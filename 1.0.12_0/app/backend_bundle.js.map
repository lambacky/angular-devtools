{
  "version": 3,
  "sources": ["../../../../../../../../node_modules/semver-dsl/node_modules/semver/semver.js", "../../../../../../../../node_modules/index.ts", "../../../../../../../../node_modules/rxjs/src/internal/util/isFunction.ts", "../../../../../../../../node_modules/rxjs/src/internal/util/lift.ts", "../../../../../../../../node_modules/rxjs/src/internal/util/createErrorClass.ts", "../../../../../../../../node_modules/rxjs/src/internal/util/UnsubscriptionError.ts", "../../../../../../../../node_modules/rxjs/src/internal/util/arrRemove.ts", "../../../../../../../../node_modules/rxjs/src/internal/Subscription.ts", "../../../../../../../../node_modules/rxjs/src/internal/config.ts", "../../../../../../../../node_modules/rxjs/src/internal/scheduler/timeoutProvider.ts", "../../../../../../../../node_modules/rxjs/src/internal/util/reportUnhandledError.ts", "../../../../../../../../node_modules/rxjs/src/internal/util/noop.ts", "../../../../../../../../node_modules/rxjs/src/internal/NotificationFactories.ts", "../../../../../../../../node_modules/rxjs/src/internal/util/errorContext.ts", "../../../../../../../../node_modules/rxjs/src/internal/Subscriber.ts", "../../../../../../../../node_modules/rxjs/src/internal/symbol/observable.ts", "../../../../../../../../node_modules/rxjs/src/internal/util/identity.ts", "../../../../../../../../node_modules/rxjs/src/internal/util/pipe.ts", "../../../../../../../../node_modules/rxjs/src/internal/Observable.ts", "../../../../../../../../node_modules/rxjs/src/internal/operators/OperatorSubscriber.ts", "../../../../../../../../node_modules/rxjs/src/internal/scheduler/Action.ts", "../../../../../../../../node_modules/rxjs/src/internal/scheduler/intervalProvider.ts", "../../../../../../../../node_modules/rxjs/src/internal/scheduler/AsyncAction.ts", "../../../../../../../../node_modules/rxjs/src/internal/scheduler/dateTimestampProvider.ts", "../../../../../../../../node_modules/rxjs/src/internal/Scheduler.ts", "../../../../../../../../node_modules/rxjs/src/internal/scheduler/AsyncScheduler.ts", "../../../../../../../../node_modules/rxjs/src/internal/scheduler/async.ts", "../../../../../../../../node_modules/rxjs/src/internal/util/ObjectUnsubscribedError.ts", "../../../../../../../../node_modules/rxjs/src/internal/Subject.ts", "../../../../../../../../node_modules/rxjs/src/internal/operators/debounceTime.ts", "../../../../../../../../devtools/projects/shared-utils/src/lib/shared-utils.ts", "../../../../../../../../devtools/projects/shared-utils/src/lib/angular-check.ts", "../../../../../../../../devtools/projects/protocol/src/lib/messages.ts", "../../../../../../../../devtools/projects/protocol/src/lib/message-bus.ts", "../../../../../../../../devtools/projects/ng-devtools-backend/src/lib/directive-forest/ltree.ts", "../../../../../../../../devtools/projects/ng-devtools-backend/src/lib/highlighter.ts", "../../../../../../../../devtools/projects/ng-devtools-backend/src/lib/utils.ts", "../../../../../../../../devtools/projects/ng-devtools-backend/src/lib/version.ts", "../../../../../../../../devtools/projects/ng-devtools-backend/src/lib/ng-debug-api/ng-debug-api.ts", "../../../../../../../../devtools/projects/ng-devtools-backend/src/lib/directive-forest/render-tree.ts", "../../../../../../../../devtools/projects/ng-devtools-backend/src/lib/directive-forest/index.ts", "../../../../../../../../devtools/projects/ng-devtools-backend/src/lib/state-serializer/object-utils.ts", "../../../../../../../../devtools/projects/ng-devtools-backend/src/lib/state-serializer/prop-type.ts", "../../../../../../../../devtools/projects/ng-devtools-backend/src/lib/state-serializer/serialized-descriptor-factory.ts", "../../../../../../../../devtools/projects/ng-devtools-backend/src/lib/state-serializer/state-serializer.ts", "../../../../../../../../devtools/projects/ng-devtools-backend/src/lib/component-tree.ts", "../../../../../../../../devtools/projects/ng-devtools-backend/src/lib/hooks/identity-tracker.ts", "../../../../../../../../devtools/projects/ng-devtools-backend/src/lib/hooks/profiler/shared.ts", "../../../../../../../../devtools/projects/ng-devtools-backend/src/lib/hooks/profiler/native.ts", "../../../../../../../../devtools/projects/ng-devtools-backend/src/lib/hooks/profiler/polyfill.ts", "../../../../../../../../devtools/projects/ng-devtools-backend/src/lib/hooks/profiler/index.ts", "../../../../../../../../devtools/projects/ng-devtools-backend/src/lib/hooks/hooks.ts", "../../../../../../../../devtools/projects/ng-devtools-backend/src/lib/hooks/index.ts", "../../../../../../../../devtools/projects/ng-devtools-backend/src/lib/component-inspector/component-inspector.ts", "../../../../../../../../devtools/projects/ng-devtools-backend/src/lib/hooks/capture.ts", "../../../../../../../../devtools/projects/ng-devtools-backend/src/lib/set-console-reference.ts", "../../../../../../../../devtools/projects/ng-devtools-backend/src/lib/client-event-subscribers.ts", "../../../../../../../../devtools/projects/ng-devtools-backend/src/lib/index.ts", "../../../../../../../../devtools/projects/shell-browser/src/app/chrome-window-extensions.ts", "../../../../../../../../devtools/projects/shell-browser/src/app/same-page-message-bus.ts", "../../../../../../../../devtools/projects/shell-browser/src/app/backend.ts"],
  "sourcesContent": ["exports = module.exports = SemVer\n\nvar debug\n/* istanbul ignore next */\nif (typeof process === 'object' &&\n    process.env &&\n    process.env.NODE_DEBUG &&\n    /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\n  debug = function () {\n    var args = Array.prototype.slice.call(arguments, 0)\n    args.unshift('SEMVER')\n    console.log.apply(console, args)\n  }\n} else {\n  debug = function () {}\n}\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0'\n\nvar MAX_LENGTH = 256\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16\n\nvar MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6\n\n// The actual regexps go on exports.re\nvar re = exports.re = []\nvar safeRe = exports.safeRe = []\nvar src = exports.src = []\nvar R = 0\n\nvar LETTERDASHNUMBER = '[a-zA-Z0-9-]'\n\n// Replace some greedy regex tokens to prevent regex dos issues. These regex are\n// used internally via the safeRe object since all inputs in this library get\n// normalized first to trim and collapse all extra whitespace. The original\n// regexes are exported for userland consumption and lower level usage. A\n// future breaking change could export the safer regex only with a note that\n// all input should have extra whitespace removed.\nvar safeRegexReplacements = [\n  ['\\\\s', 1],\n  ['\\\\d', MAX_LENGTH],\n  [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH],\n]\n\nfunction makeSafeRe (value) {\n  for (var i = 0; i < safeRegexReplacements.length; i++) {\n    var token = safeRegexReplacements[i][0]\n    var max = safeRegexReplacements[i][1]\n    value = value\n      .split(token + '*').join(token + '{0,' + max + '}')\n      .split(token + '+').join(token + '{1,' + max + '}')\n  }\n  return value\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\nvar NUMERICIDENTIFIER = R++\nsrc[NUMERICIDENTIFIER] = '0|[1-9]\\\\d*'\nvar NUMERICIDENTIFIERLOOSE = R++\nsrc[NUMERICIDENTIFIERLOOSE] = '\\\\d+'\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\nvar NONNUMERICIDENTIFIER = R++\nsrc[NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-]' + LETTERDASHNUMBER + '*'\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\nvar MAINVERSION = R++\nsrc[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')'\n\nvar MAINVERSIONLOOSE = R++\nsrc[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')'\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\nvar PRERELEASEIDENTIFIER = R++\nsrc[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] +\n                            '|' + src[NONNUMERICIDENTIFIER] + ')'\n\nvar PRERELEASEIDENTIFIERLOOSE = R++\nsrc[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[NONNUMERICIDENTIFIER] + ')'\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\nvar PRERELEASE = R++\nsrc[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[PRERELEASEIDENTIFIER] + ')*))'\n\nvar PRERELEASELOOSE = R++\nsrc[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))'\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\nvar BUILDIDENTIFIER = R++\nsrc[BUILDIDENTIFIER] = LETTERDASHNUMBER + '+'\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\nvar BUILD = R++\nsrc[BUILD] = '(?:\\\\+(' + src[BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[BUILDIDENTIFIER] + ')*))'\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\nvar FULL = R++\nvar FULLPLAIN = 'v?' + src[MAINVERSION] +\n                src[PRERELEASE] + '?' +\n                src[BUILD] + '?'\n\nsrc[FULL] = '^' + FULLPLAIN + '$'\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\nvar LOOSEPLAIN = '[v=\\\\s]*' + src[MAINVERSIONLOOSE] +\n                 src[PRERELEASELOOSE] + '?' +\n                 src[BUILD] + '?'\n\nvar LOOSE = R++\nsrc[LOOSE] = '^' + LOOSEPLAIN + '$'\n\nvar GTLT = R++\nsrc[GTLT] = '((?:<|>)?=?)'\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\nvar XRANGEIDENTIFIERLOOSE = R++\nsrc[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*'\nvar XRANGEIDENTIFIER = R++\nsrc[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\\\*'\n\nvar XRANGEPLAIN = R++\nsrc[XRANGEPLAIN] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[PRERELEASE] + ')?' +\n                   src[BUILD] + '?' +\n                   ')?)?'\n\nvar XRANGEPLAINLOOSE = R++\nsrc[XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[PRERELEASELOOSE] + ')?' +\n                        src[BUILD] + '?' +\n                        ')?)?'\n\nvar XRANGE = R++\nsrc[XRANGE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAIN] + '$'\nvar XRANGELOOSE = R++\nsrc[XRANGELOOSE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAINLOOSE] + '$'\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\nvar COERCE = R++\nsrc[COERCE] = '(?:^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])'\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\nvar LONETILDE = R++\nsrc[LONETILDE] = '(?:~>?)'\n\nvar TILDETRIM = R++\nsrc[TILDETRIM] = '(\\\\s*)' + src[LONETILDE] + '\\\\s+'\nre[TILDETRIM] = new RegExp(src[TILDETRIM], 'g')\nsafeRe[TILDETRIM] = new RegExp(makeSafeRe(src[TILDETRIM]), 'g')\nvar tildeTrimReplace = '$1~'\n\nvar TILDE = R++\nsrc[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$'\nvar TILDELOOSE = R++\nsrc[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$'\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\nvar LONECARET = R++\nsrc[LONECARET] = '(?:\\\\^)'\n\nvar CARETTRIM = R++\nsrc[CARETTRIM] = '(\\\\s*)' + src[LONECARET] + '\\\\s+'\nre[CARETTRIM] = new RegExp(src[CARETTRIM], 'g')\nsafeRe[CARETTRIM] = new RegExp(makeSafeRe(src[CARETTRIM]), 'g')\nvar caretTrimReplace = '$1^'\n\nvar CARET = R++\nsrc[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$'\nvar CARETLOOSE = R++\nsrc[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$'\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\nvar COMPARATORLOOSE = R++\nsrc[COMPARATORLOOSE] = '^' + src[GTLT] + '\\\\s*(' + LOOSEPLAIN + ')$|^$'\nvar COMPARATOR = R++\nsrc[COMPARATOR] = '^' + src[GTLT] + '\\\\s*(' + FULLPLAIN + ')$|^$'\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\nvar COMPARATORTRIM = R++\nsrc[COMPARATORTRIM] = '(\\\\s*)' + src[GTLT] +\n                      '\\\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')'\n\n// this one has to use the /g flag\nre[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g')\nsafeRe[COMPARATORTRIM] = new RegExp(makeSafeRe(src[COMPARATORTRIM]), 'g')\nvar comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\nvar HYPHENRANGE = R++\nsrc[HYPHENRANGE] = '^\\\\s*(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s*$'\n\nvar HYPHENRANGELOOSE = R++\nsrc[HYPHENRANGELOOSE] = '^\\\\s*(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$'\n\n// Star ranges basically just allow anything at all.\nvar STAR = R++\nsrc[STAR] = '(<|>)?=?\\\\s*\\\\*'\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i])\n  if (!re[i]) {\n    re[i] = new RegExp(src[i])\n\n    // Replace all greedy whitespace to prevent regex dos issues. These regex are\n    // used internally via the safeRe object since all inputs in this library get\n    // normalized first to trim and collapse all extra whitespace. The original\n    // regexes are exported for userland consumption and lower level usage. A\n    // future breaking change could export the safer regex only with a note that\n    // all input should have extra whitespace removed.\n    safeRe[i] = new RegExp(makeSafeRe(src[i]))\n  }\n}\n\nexports.parse = parse\nfunction parse (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  var r = options.loose ? safeRe[LOOSE] : safeRe[FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nexports.valid = valid\nfunction valid (version, options) {\n  var v = parse(version, options)\n  return v ? v.version : null\n}\n\nexports.clean = clean\nfunction clean (version, options) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\n\nexports.SemVer = SemVer\n\nfunction SemVer (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n  if (version instanceof SemVer) {\n    if (version.loose === options.loose) {\n      return version\n    } else {\n      version = version.version\n    }\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  if (version.length > MAX_LENGTH) {\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n  }\n\n  if (!(this instanceof SemVer)) {\n    return new SemVer(version, options)\n  }\n\n  debug('SemVer', version, options)\n  this.options = options\n  this.loose = !!options.loose\n\n  var m = version.trim().match(options.loose ? safeRe[LOOSE] : safeRe[FULL])\n\n  if (!m) {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  this.raw = version\n\n  // these are actually numbers\n  this.major = +m[1]\n  this.minor = +m[2]\n  this.patch = +m[3]\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n    throw new TypeError('Invalid major version')\n  }\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n    throw new TypeError('Invalid minor version')\n  }\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n    throw new TypeError('Invalid patch version')\n  }\n\n  // numberify any prerelease numeric ids\n  if (!m[4]) {\n    this.prerelease = []\n  } else {\n    this.prerelease = m[4].split('.').map(function (id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id\n        if (num >= 0 && num < MAX_SAFE_INTEGER) {\n          return num\n        }\n      }\n      return id\n    })\n  }\n\n  this.build = m[5] ? m[5].split('.') : []\n  this.format()\n}\n\nSemVer.prototype.format = function () {\n  this.version = this.major + '.' + this.minor + '.' + this.patch\n  if (this.prerelease.length) {\n    this.version += '-' + this.prerelease.join('.')\n  }\n  return this.version\n}\n\nSemVer.prototype.toString = function () {\n  return this.version\n}\n\nSemVer.prototype.compare = function (other) {\n  debug('SemVer.compare', this.version, this.options, other)\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return this.compareMain(other) || this.comparePre(other)\n}\n\nSemVer.prototype.compareMain = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch)\n}\n\nSemVer.prototype.comparePre = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length) {\n    return -1\n  } else if (!this.prerelease.length && other.prerelease.length) {\n    return 1\n  } else if (!this.prerelease.length && !other.prerelease.length) {\n    return 0\n  }\n\n  var i = 0\n  do {\n    var a = this.prerelease[i]\n    var b = other.prerelease[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function (release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor = 0\n      this.major++\n      this.inc('pre', identifier)\n      break\n    case 'preminor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor++\n      this.inc('pre', identifier)\n      break\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0\n      this.inc('patch', identifier)\n      this.inc('pre', identifier)\n      break\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0) {\n        this.inc('patch', identifier)\n      }\n      this.inc('pre', identifier)\n      break\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0) {\n        this.major++\n      }\n      this.minor = 0\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0) {\n        this.minor++\n      }\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0) {\n        this.patch++\n      }\n      this.prerelease = []\n      break\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0) {\n        this.prerelease = [0]\n      } else {\n        var i = this.prerelease.length\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++\n            i = -2\n          }\n        }\n        if (i === -1) {\n          // didn't increment anything\n          this.prerelease.push(0)\n        }\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1])) {\n            this.prerelease = [identifier, 0]\n          }\n        } else {\n          this.prerelease = [identifier, 0]\n        }\n      }\n      break\n\n    default:\n      throw new Error('invalid increment argument: ' + release)\n  }\n  this.format()\n  this.raw = this.version\n  return this\n}\n\nexports.inc = inc\nfunction inc (version, release, loose, identifier) {\n  if (typeof (loose) === 'string') {\n    identifier = loose\n    loose = undefined\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\n\nexports.diff = diff\nfunction diff (version1, version2) {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    var v1 = parse(version1)\n    var v2 = parse(version2)\n    var prefix = ''\n    if (v1.prerelease.length || v2.prerelease.length) {\n      prefix = 'pre'\n      var defaultResult = 'prerelease'\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers\n\nvar numeric = /^[0-9]+$/\nfunction compareIdentifiers (a, b) {\n  var anum = numeric.test(a)\n  var bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers\nfunction rcompareIdentifiers (a, b) {\n  return compareIdentifiers(b, a)\n}\n\nexports.major = major\nfunction major (a, loose) {\n  return new SemVer(a, loose).major\n}\n\nexports.minor = minor\nfunction minor (a, loose) {\n  return new SemVer(a, loose).minor\n}\n\nexports.patch = patch\nfunction patch (a, loose) {\n  return new SemVer(a, loose).patch\n}\n\nexports.compare = compare\nfunction compare (a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose))\n}\n\nexports.compareLoose = compareLoose\nfunction compareLoose (a, b) {\n  return compare(a, b, true)\n}\n\nexports.rcompare = rcompare\nfunction rcompare (a, b, loose) {\n  return compare(b, a, loose)\n}\n\nexports.sort = sort\nfunction sort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compare(a, b, loose)\n  })\n}\n\nexports.rsort = rsort\nfunction rsort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.rcompare(a, b, loose)\n  })\n}\n\nexports.gt = gt\nfunction gt (a, b, loose) {\n  return compare(a, b, loose) > 0\n}\n\nexports.lt = lt\nfunction lt (a, b, loose) {\n  return compare(a, b, loose) < 0\n}\n\nexports.eq = eq\nfunction eq (a, b, loose) {\n  return compare(a, b, loose) === 0\n}\n\nexports.neq = neq\nfunction neq (a, b, loose) {\n  return compare(a, b, loose) !== 0\n}\n\nexports.gte = gte\nfunction gte (a, b, loose) {\n  return compare(a, b, loose) >= 0\n}\n\nexports.lte = lte\nfunction lte (a, b, loose) {\n  return compare(a, b, loose) <= 0\n}\n\nexports.cmp = cmp\nfunction cmp (a, op, b, loose) {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError('Invalid operator: ' + op)\n  }\n}\n\nexports.Comparator = Comparator\nfunction Comparator (comp, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (comp instanceof Comparator) {\n    if (comp.loose === !!options.loose) {\n      return comp\n    } else {\n      comp = comp.value\n    }\n  }\n\n  if (!(this instanceof Comparator)) {\n    return new Comparator(comp, options)\n  }\n\n  comp = comp.trim().split(/\\s+/).join(' ')\n  debug('comparator', comp, options)\n  this.options = options\n  this.loose = !!options.loose\n  this.parse(comp)\n\n  if (this.semver === ANY) {\n    this.value = ''\n  } else {\n    this.value = this.operator + this.semver.version\n  }\n\n  debug('comp', this)\n}\n\nvar ANY = {}\nComparator.prototype.parse = function (comp) {\n  var r = this.options.loose ? safeRe[COMPARATORLOOSE] : safeRe[COMPARATOR]\n  var m = comp.match(r)\n\n  if (!m) {\n    throw new TypeError('Invalid comparator: ' + comp)\n  }\n\n  this.operator = m[1]\n  if (this.operator === '=') {\n    this.operator = ''\n  }\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2]) {\n    this.semver = ANY\n  } else {\n    this.semver = new SemVer(m[2], this.options.loose)\n  }\n}\n\nComparator.prototype.toString = function () {\n  return this.value\n}\n\nComparator.prototype.test = function (version) {\n  debug('Comparator.test', version, this.options.loose)\n\n  if (this.semver === ANY) {\n    return true\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  return cmp(version, this.operator, this.semver, this.options)\n}\n\nComparator.prototype.intersects = function (comp, options) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required')\n  }\n\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  var rangeTmp\n\n  if (this.operator === '') {\n    rangeTmp = new Range(comp.value, options)\n    return satisfies(this.value, rangeTmp, options)\n  } else if (comp.operator === '') {\n    rangeTmp = new Range(this.value, options)\n    return satisfies(comp.semver, rangeTmp, options)\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>')\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<')\n  var sameSemVer = this.semver.version === comp.semver.version\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=')\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, options) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'))\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, options) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'))\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan\n}\n\nexports.Range = Range\nfunction Range (range, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (range instanceof Range) {\n    if (range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease) {\n      return range\n    } else {\n      return new Range(range.raw, options)\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, options)\n  }\n\n  if (!(this instanceof Range)) {\n    return new Range(range, options)\n  }\n\n  this.options = options\n  this.loose = !!options.loose\n  this.includePrerelease = !!options.includePrerelease\n\n  // First reduce all whitespace as much as possible so we do not have to rely\n  // on potentially slow regexes like \\s*. This is then stored and used for\n  // future error messages as well.\n  this.raw = range\n    .trim()\n    .split(/\\s+/)\n    .join(' ')\n\n  // First, split based on boolean or ||\n  this.set = this.raw.split('||').map(function (range) {\n    return this.parseRange(range.trim())\n  }, this).filter(function (c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length\n  })\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + this.raw)\n  }\n\n  this.format()\n}\n\nRange.prototype.format = function () {\n  this.range = this.set.map(function (comps) {\n    return comps.join(' ').trim()\n  }).join('||').trim()\n  return this.range\n}\n\nRange.prototype.toString = function () {\n  return this.range\n}\n\nRange.prototype.parseRange = function (range) {\n  var loose = this.options.loose\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? safeRe[HYPHENRANGELOOSE] : safeRe[HYPHENRANGE]\n  range = range.replace(hr, hyphenReplace)\n  debug('hyphen replace', range)\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(safeRe[COMPARATORTRIM], comparatorTrimReplace)\n  debug('comparator trim', range, safeRe[COMPARATORTRIM])\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(safeRe[TILDETRIM], tildeTrimReplace)\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(safeRe[CARETTRIM], caretTrimReplace)\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n  var compRe = loose ? safeRe[COMPARATORLOOSE] : safeRe[COMPARATOR]\n  var set = range.split(' ').map(function (comp) {\n    return parseComparator(comp, this.options)\n  }, this).join(' ').split(/\\s+/)\n  if (this.options.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function (comp) {\n      return !!comp.match(compRe)\n    })\n  }\n  set = set.map(function (comp) {\n    return new Comparator(comp, this.options)\n  }, this)\n\n  return set\n}\n\nRange.prototype.intersects = function (range, options) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required')\n  }\n\n  return this.set.some(function (thisComparators) {\n    return thisComparators.every(function (thisComparator) {\n      return range.set.some(function (rangeComparators) {\n        return rangeComparators.every(function (rangeComparator) {\n          return thisComparator.intersects(rangeComparator, options)\n        })\n      })\n    })\n  })\n}\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators\nfunction toComparators (range, options) {\n  return new Range(range, options).set.map(function (comp) {\n    return comp.map(function (c) {\n      return c.value\n    }).join(' ').trim().split(' ')\n  })\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator (comp, options) {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nfunction isX (id) {\n  return !id || id.toLowerCase() === 'x' || id === '*'\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceTilde(comp, options)\n  }).join(' ')\n}\n\nfunction replaceTilde (comp, options) {\n  var r = options.loose ? safeRe[TILDELOOSE] : safeRe[TILDE]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceCaret(comp, options)\n  }).join(' ')\n}\n\nfunction replaceCaret (comp, options) {\n  debug('caret', comp, options)\n  var r = options.loose ? safeRe[CARETLOOSE] : safeRe[CARET]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n      } else {\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0'\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nfunction replaceXRanges (comp, options) {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map(function (comp) {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nfunction replaceXRange (comp, options) {\n  comp = comp.trim()\n  var r = options.loose ? safeRe[XRANGELOOSE] : safeRe[XRANGE]\n  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    var xM = isX(M)\n    var xm = xM || isX(m)\n    var xp = xm || isX(p)\n    var anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p\n    } else if (xm) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars (comp, options) {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(safeRe[STAR], '')\n}\n\n// This function is passed to string.replace(safeRe[HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = '>=' + fM + '.0.0'\n  } else if (isX(fp)) {\n    from = '>=' + fM + '.' + fm + '.0'\n  } else {\n    from = '>=' + from\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = '<' + (+tM + 1) + '.0.0'\n  } else if (isX(tp)) {\n    to = '<' + tM + '.' + (+tm + 1) + '.0'\n  } else if (tpr) {\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr\n  } else {\n    to = '<=' + to\n  }\n\n  return (from + ' ' + to).trim()\n}\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function (version) {\n  if (!version) {\n    return false\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version, this.options)) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction testSet (set, version, options) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n\nexports.satisfies = satisfies\nfunction satisfies (version, range, options) {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\n\nexports.maxSatisfying = maxSatisfying\nfunction maxSatisfying (versions, range, options) {\n  var max = null\n  var maxSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\n\nexports.minSatisfying = minSatisfying\nfunction minSatisfying (versions, range, options) {\n  var min = null\n  var minSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\n\nexports.minVersion = minVersion\nfunction minVersion (range, loose) {\n  range = new Range(range, loose)\n\n  var minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    comparators.forEach(function (comparator) {\n      // Clone to avoid manipulating the comparator's semver object.\n      var compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!minver || gt(minver, compver)) {\n            minver = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error('Unexpected operation: ' + comparator.operator)\n      }\n    })\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\n\nexports.validRange = validRange\nfunction validRange (range, options) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr\nfunction ltr (version, range, options) {\n  return outside(version, range, '<', options)\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr\nfunction gtr (version, range, options) {\n  return outside(version, range, '>', options)\n}\n\nexports.outside = outside\nfunction outside (version, range, hilo, options) {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  var gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    var high = null\n    var low = null\n\n    comparators.forEach(function (comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nexports.prerelease = prerelease\nfunction prerelease (version, options) {\n  var parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\n\nexports.intersects = intersects\nfunction intersects (r1, r2, options) {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce\nfunction coerce (version) {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  var match = version.match(safeRe[COERCE])\n\n  if (match == null) {\n    return null\n  }\n\n  return parse(match[1] +\n    '.' + (match[2] || '0') +\n    '.' + (match[3] || '0'))\n}\n", null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n// works with arrays of string, numbers and booleans\nexport const arrayEquals = (\n  a: (string | number | boolean)[],\n  b: (string | number | boolean)[],\n): boolean => {\n  if (a.length !== b.length) {\n    return false;\n  }\n  if (a.length === 0) {\n    return b.length === 0;\n  }\n\n  let equal;\n  for (let i = 0; i < a.length; i++) {\n    equal = i === 0 ? a[i] === b[i] : a[i] === b[i] && equal;\n    if (!equal) {\n      break;\n    }\n  }\n  return equal ?? false;\n};\n", "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ɵHydratedNode as HydrationNode} from '@angular/core';\n\ndeclare const ng: any;\n\nexport const appIsAngularInDevMode = (): boolean => {\n  return appIsAngular() && appHasGlobalNgDebugObject();\n};\n\nexport const appIsAngularIvy = (): boolean => {\n  const rootElement = (window as any).document.querySelector('[ng-version]');\n  return typeof rootElement?.__ngContext__ !== 'undefined';\n};\n\nexport const appIsAngular = (): boolean => {\n  return !!getAngularVersion();\n};\n\nexport const appIsSupportedAngularVersion = (): boolean => {\n  const version = getAngularVersion();\n  if (!version) {\n    return false;\n  }\n  const major = parseInt(version.toString().split('.')[0], 10);\n  return appIsAngular() && (major >= 12 || major === 0);\n};\n\n/**\n * We check if the global `window.ng` is an object and if this object\n * has the `getComponent` or `probe` methods attached to it.\n *\n * `ng.probe` is a view engine method, but to ensure that we correctly\n * detect development mode we need to consider older rendering engines.\n *\n * In some g3 apps processed with Closure, `ng` is a function,\n * which means that `typeof ng !== 'undefined'` is not a sufficient check.\n *\n * @returns if the app has global ng debug object\n */\nconst appHasGlobalNgDebugObject = (): boolean => {\n  return (\n    typeof ng === 'object' &&\n    (typeof ng.getComponent === 'function' || typeof ng.probe === 'function')\n  );\n};\n\nexport const getAngularVersion = (): string | null => {\n  const el = document.querySelector('[ng-version]');\n  if (!el) {\n    return null;\n  }\n  return el.getAttribute('ng-version');\n};\n\nexport function isHydrationEnabled(): boolean {\n  return Array.from(document.querySelectorAll('[ng-version]')).some(\n    (rootNode) => (rootNode as HydrationNode)?.__ngDebugHydrationInfo__,\n  );\n}\n", "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {InjectionToken, InjectOptions, Injector, Type, ViewEncapsulation} from '@angular/core';\n\nexport interface DirectiveType {\n  name: string;\n  id: number;\n}\n\nexport interface ComponentType {\n  name: string;\n  isElement: boolean;\n  id: number;\n}\n\nexport type HydrationStatus =\n  | null\n  | {status: 'hydrated' | 'skipped'}\n  | {\n      status: 'mismatched';\n      expectedNodeDetails: string | null;\n      actualNodeDetails: string | null;\n    };\n\nexport interface DevToolsNode<DirType = DirectiveType, CmpType = ComponentType> {\n  element: string;\n  directives: DirType[];\n  component: CmpType | null;\n  children: DevToolsNode<DirType, CmpType>[];\n  nativeElement?: Node;\n  resolutionPath?: SerializedInjector[];\n  hydration: HydrationStatus;\n}\n\nexport interface SerializedInjector {\n  id: string;\n  name: string;\n  type: string;\n  node?: DevToolsNode;\n  providers?: number;\n}\n\nexport interface SerializedProviderRecord {\n  token: string;\n  type: 'type' | 'existing' | 'class' | 'value' | 'factory' | 'multi';\n  multi: boolean;\n  isViewProvider: boolean;\n  index?: number | number[];\n}\n\n/**\n * Duplicate of the InjectedService interface from Angular framework to prevent\n * needing to publicly expose the interface from the framework.\n */\nexport interface InjectedService {\n  token?: Type<unknown> | InjectionToken<unknown>;\n  value: unknown;\n  flags?: InjectOptions;\n  providedIn: Injector;\n}\n\nexport type ContainerType = 'WritableSignal' | 'ReadonlySignal' | null;\n\nexport enum PropType {\n  Number,\n  String,\n  Null,\n  Undefined,\n  Symbol,\n  HTMLNode,\n  Boolean,\n  BigInt,\n  Function,\n  Object,\n  Date,\n  Array,\n  Set,\n  Map,\n  Unknown,\n}\n\nexport interface Descriptor {\n  expandable: boolean;\n  value?: any;\n  editable: boolean;\n  type: PropType;\n  preview: string;\n  containerType: ContainerType;\n}\n\nexport interface DirectivesProperties {\n  [name: string]: Properties;\n}\n\nexport interface DirectiveMetadata {\n  inputs: {[name: string]: string};\n  outputs: {[name: string]: string};\n  encapsulation: ViewEncapsulation;\n  onPush: boolean;\n  dependencies?: SerializedInjectedService[];\n}\n\nexport interface SerializedInjectedService {\n  token: string;\n  value: string;\n  position: number[];\n  flags?: InjectOptions;\n  resolutionPath?: SerializedInjector[];\n}\n\nexport interface Properties {\n  props: {[name: string]: Descriptor};\n  metadata?: DirectiveMetadata;\n}\n\nexport type ElementPosition = number[];\n\nexport interface DirectivePosition {\n  element: ElementPosition;\n  directive?: number;\n}\n\nexport interface NestedProp {\n  name: string | number;\n  children: NestedProp[];\n}\n\nexport interface ComponentExplorerViewProperties {\n  [directive: string]: NestedProp[];\n}\n\nexport enum PropertyQueryTypes {\n  All,\n  Specified,\n}\n\nexport interface AllPropertiesQuery {\n  type: PropertyQueryTypes.All;\n}\n\nexport interface SelectedPropertiesQuery {\n  type: PropertyQueryTypes.Specified;\n  properties: ComponentExplorerViewProperties;\n}\n\nexport type PropertyQuery = AllPropertiesQuery | SelectedPropertiesQuery;\n\nexport interface ComponentExplorerViewQuery {\n  selectedElement: ElementPosition;\n  propertyQuery: PropertyQuery;\n}\n\nexport interface ComponentExplorerView {\n  forest: DevToolsNode[];\n  properties?: DirectivesProperties;\n}\n\nexport interface LifecycleProfile {\n  ngOnInit?: number;\n  ngOnDestroy?: number;\n  ngOnChanges?: number;\n  ngDoCheck?: number;\n  ngAfterContentInit?: number;\n  ngAfterContentChecked?: number;\n  ngAfterViewInit?: number;\n  ngAfterViewChecked?: number;\n}\n\nexport interface OutputProfile {\n  [outputName: string]: number;\n}\n\nexport interface DirectiveProfile {\n  name: string;\n  isElement: boolean;\n  isComponent: boolean;\n  lifecycle: LifecycleProfile;\n  outputs: OutputProfile;\n  changeDetection?: number;\n}\n\nexport interface ElementProfile {\n  directives: DirectiveProfile[];\n  children: ElementProfile[];\n}\n\nexport interface ProfilerFrame {\n  source: string;\n  duration: number;\n  directives: ElementProfile[];\n}\n\nexport interface UpdatedStateData {\n  directiveId: DirectivePosition;\n  keyPath: string[];\n  newValue: any;\n}\n\nexport interface Route {\n  name: string;\n  hash: string | null;\n  path: string;\n  specificity: string | null;\n  handler: string;\n  data: any;\n  children?: Array<Route>;\n  isAux: boolean;\n}\n\nexport interface AngularDetection {\n  // This is necessary because the runtime\n  // message listener handles messages globally\n  // including from other extensions. We don't\n  // want to set icon and/or popup based on\n  // a message coming from an unrelated extension.\n  isAngularDevTools: true;\n  isIvy: boolean;\n  isAngular: boolean;\n  isDebugMode: boolean;\n  isSupportedAngularVersion: boolean;\n}\n\nexport type Topic = keyof Events;\n\nexport interface InjectorGraphViewQuery {\n  directivePosition: DirectivePosition;\n  paramIndex: number;\n}\n\nexport interface Events {\n  handshake: () => void;\n  shutdown: () => void;\n  queryNgAvailability: () => void;\n  ngAvailability: (config: {\n    version: string | undefined | boolean;\n    devMode: boolean;\n    ivy: boolean;\n    hydration: boolean;\n  }) => void;\n\n  inspectorStart: () => void;\n  inspectorEnd: () => void;\n\n  getNestedProperties: (position: DirectivePosition, path: string[]) => void;\n  nestedProperties: (position: DirectivePosition, data: Properties, path: string[]) => void;\n\n  setSelectedComponent: (position: ElementPosition) => void;\n  getRoutes: () => void;\n  updateRouterTree: (routes: Route[]) => void;\n\n  componentTreeDirty: () => void;\n  getLatestComponentExplorerView: (query?: ComponentExplorerViewQuery) => void;\n  latestComponentExplorerView: (view: ComponentExplorerView) => void;\n\n  updateState: (value: UpdatedStateData) => void;\n\n  startProfiling: () => void;\n  stopProfiling: () => void;\n  sendProfilerChunk: (results: ProfilerFrame) => void;\n  profilerResults: (results: ProfilerFrame) => void;\n\n  createHighlightOverlay: (position: ElementPosition) => void;\n  removeHighlightOverlay: () => void;\n\n  createHydrationOverlay: () => void;\n  removeHydrationOverlay: () => void;\n\n  highlightComponent: (id: number) => void;\n  selectComponent: (id: number) => void;\n  removeComponentHighlight: () => void;\n\n  enableTimingAPI: () => void;\n  disableTimingAPI: () => void;\n\n  // todo: type properly\n  getInjectorProviders: (injector: SerializedInjector) => void;\n  latestInjectorProviders: (\n    injector: SerializedInjector,\n    providers: SerializedProviderRecord[],\n  ) => void;\n\n  logProvider: (injector: SerializedInjector, providers: SerializedProviderRecord) => void;\n\n  contentScriptConnected: (frameId: number, name: string, url: string) => void;\n  contentScriptDisconnected: (frameId: number, name: string, url: string) => void;\n  enableFrameConnection: (frameId: number, tabId: number) => void;\n  frameConnected: (frameId: number) => void;\n  detectAngular: (detectionResult: AngularDetection) => void;\n  backendReady: () => void;\n\n  log: (logEvent: {message: string; level: 'log' | 'warn' | 'debug' | 'error'}) => void;\n}\n", "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nexport type Parameters<F> = F extends (...args: infer T) => any ? T : never;\n\nexport abstract class MessageBus<T> {\n  abstract on<E extends keyof T>(topic: E, cb: T[E]): void;\n  abstract once<E extends keyof T>(topic: E, cb: T[E]): void;\n  abstract emit<E extends keyof T>(topic: E, args?: Parameters<T[E]>): boolean;\n  abstract destroy(): void;\n}\n", "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {SemVerDSL} from 'semver-dsl';\n\nimport {getDirectiveName} from '../highlighter';\nimport {ComponentInstanceType, ComponentTreeNode, DirectiveInstanceType} from '../interfaces';\nimport {isCustomElement} from '../utils';\nimport {VERSION} from '../version';\n\nlet HEADER_OFFSET = 19;\n\nconst latest = () => {\n  HEADER_OFFSET = 20;\n};\n\nSemVerDSL(VERSION).gte('10.0.0-next.4', latest);\n\n// In g3 everyone has version 0.0.0, using the currently synced commits in the g3 codebase.\nSemVerDSL(VERSION).eq('0.0.0', latest);\n\nconst TYPE = 1;\nconst ELEMENT = 0;\nconst LVIEW_TVIEW = 1;\n\n// Big oversimplification of the LView structure.\ntype LView = Array<any>;\n\nexport const isLContainer = (value: unknown): boolean => {\n  return Array.isArray(value) && value[TYPE] === true;\n};\n\nconst isLView = (value: unknown): value is LView => {\n  return Array.isArray(value) && typeof value[TYPE] === 'object';\n};\n\nexport const METADATA_PROPERTY_NAME = '__ngContext__';\nexport function getLViewFromDirectiveOrElementInstance(dir: any): null | LView {\n  if (!dir) {\n    return null;\n  }\n  const context = dir[METADATA_PROPERTY_NAME];\n  if (!context) {\n    return null;\n  }\n  if (isLView(context)) {\n    return context;\n  }\n  return context.lView;\n}\n\nexport const getDirectiveHostElement = (dir: any) => {\n  if (!dir) {\n    return false;\n  }\n  const ctx = dir[METADATA_PROPERTY_NAME];\n  if (!ctx) {\n    return false;\n  }\n  if (ctx[0] !== null) {\n    return ctx[0];\n  }\n  const components = ctx[LVIEW_TVIEW].components;\n  if (!components || components.length !== 1) {\n    return false;\n  }\n  return ctx[components[0]][0];\n};\n\nexport class LTreeStrategy {\n  supports(element: Element): boolean {\n    return typeof (element as any).__ngContext__ !== 'undefined';\n  }\n\n  private _getNode(lView: LView, data: any, idx: number): ComponentTreeNode {\n    const directives: DirectiveInstanceType[] = [];\n    let component: ComponentInstanceType | null = null;\n    const tNode = data[idx];\n    const node = lView[idx][ELEMENT];\n    const element = (node.tagName || node.nodeName).toLowerCase();\n    if (!tNode) {\n      return {\n        nativeElement: node,\n        children: [],\n        element,\n        directives: [],\n        component: null,\n        hydration: null, // We know there is no hydration if we use the LTreeStrategy\n      };\n    }\n    for (let i = tNode.directiveStart; i < tNode.directiveEnd; i++) {\n      const instance = lView[i];\n      const dirMeta = data[i];\n      if (dirMeta && dirMeta.template) {\n        component = {\n          name: element,\n          isElement: isCustomElement(node),\n          instance,\n        };\n      } else if (dirMeta) {\n        directives.push({\n          name: getDirectiveName(instance),\n          instance,\n        });\n      }\n    }\n    return {\n      nativeElement: node,\n      children: [],\n      element,\n      directives,\n      component,\n      hydration: null, // We know there is no hydration if we use the LTreeStrategy\n    };\n  }\n\n  private _extract(lViewOrLContainer: any, nodes: ComponentTreeNode[] = []): ComponentTreeNode[] {\n    if (isLContainer(lViewOrLContainer)) {\n      for (let i = 9; i < lViewOrLContainer.length; i++) {\n        if (lViewOrLContainer[i]) {\n          this._extract(lViewOrLContainer[i], nodes);\n        }\n      }\n      return nodes;\n    }\n    const lView = lViewOrLContainer;\n    const tView = lView[LVIEW_TVIEW];\n    for (let i = HEADER_OFFSET; i < lView.length; i++) {\n      const lViewItem = lView[i];\n      if (tView.data && Array.isArray(lViewItem) && lViewItem[ELEMENT] instanceof Node) {\n        const node = this._getNode(lView, tView.data, i);\n\n        // TODO(mgechev): verify if this won't make us skip projected content.\n        if (node.component || node.directives.length) {\n          nodes.push(node);\n          this._extract(lViewItem, node.children);\n        }\n      }\n    }\n    return nodes;\n  }\n\n  build(element: Element, nodes: ComponentTreeNode[] = []): ComponentTreeNode[] {\n    const ctx = (element as any).__ngContext__;\n    const rootLView = ctx.lView ?? ctx;\n    return this._extract(rootLView);\n  }\n}\n", "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport type {ɵGlobalDevModeUtils as GlobalDevModeUtils, Type} from '@angular/core';\nimport {HydrationStatus} from 'protocol';\n\nlet hydrationOverlayItems: HTMLElement[] = [];\nlet selectedElementOverlay: HTMLElement | null = null;\n\ndeclare const ng: GlobalDevModeUtils['ng'];\n\nconst DEV_TOOLS_HIGHLIGHT_NODE_ID = '____ngDevToolsHighlight';\n\nconst OVERLAY_CONTENT_MARGIN = 4;\nconst MINIMAL_OVERLAY_CONTENT_SIZE = {\n  width: 30 + OVERLAY_CONTENT_MARGIN * 2,\n  height: 20 + OVERLAY_CONTENT_MARGIN * 2,\n};\n\ntype RgbColor = readonly [red: number, green: number, blue: number];\nconst COLORS = {\n  blue: [104, 182, 255],\n  red: [255, 0, 64],\n  grey: [128, 128, 128],\n} satisfies Record<string, RgbColor>;\n\n// Those are the SVG we inline in case the overlay label is to long for the container component.\nconst HYDRATION_SVG = `\n<svg xmlns=\"http://www.w3.org/2000/svg\" enable-background=\"new 0 0 24 24\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"#000000\"><rect fill=\"none\" height=\"24\" width=\"24\"/><path d=\"M12,2c-5.33,4.55-8,8.48-8,11.8c0,4.98,3.8,8.2,8,8.2s8-3.22,8-8.2C20,10.48,17.33,6.55,12,2z M12,20c-3.35,0-6-2.57-6-6.2 c0-2.34,1.95-5.44,6-9.14c4.05,3.7,6,6.79,6,9.14C18,17.43,15.35,20,12,20z M7.83,14c0.37,0,0.67,0.26,0.74,0.62 c0.41,2.22,2.28,2.98,3.64,2.87c0.43-0.02,0.79,0.32,0.79,0.75c0,0.4-0.32,0.73-0.72,0.75c-2.13,0.13-4.62-1.09-5.19-4.12 C7.01,14.42,7.37,14,7.83,14z\"/></svg>`;\nconst HYDRATION_SKIPPED_SVG = `<svg xmlns=\"http://www.w3.org/2000/svg\" enable-background=\"new 0 0 24 24\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\"><rect fill=\"none\" height=\"24\" width=\"24\"/><path d=\"M21.19,21.19L2.81,2.81L1.39,4.22l4.2,4.2c-1,1.31-1.6,2.94-1.6,4.7C4,17.48,7.58,21,12,21c1.75,0,3.36-0.56,4.67-1.5 l3.1,3.1L21.19,21.19z M12,19c-3.31,0-6-2.63-6-5.87c0-1.19,0.36-2.32,1.02-3.28L12,14.83V19z M8.38,5.56L12,2l5.65,5.56l0,0 C19.1,8.99,20,10.96,20,13.13c0,1.18-0.27,2.29-0.74,3.3L12,9.17V4.81L9.8,6.97L8.38,5.56z\"/></svg>`;\nconst HYDRATION_ERROR_SVG = `<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M11 15h2v2h-2v-2zm0-8h2v6h-2V7zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"/></svg>`;\n\nfunction createOverlay(color: RgbColor): {overlay: HTMLElement; overlayContent: HTMLElement} {\n  const overlay = document.createElement('div');\n  overlay.className = 'ng-devtools-overlay';\n  overlay.style.backgroundColor = toCSSColor(...color, 0.35);\n  overlay.style.position = 'fixed';\n  overlay.style.zIndex = '2147483647';\n  overlay.style.pointerEvents = 'none';\n  overlay.style.display = 'flex';\n  overlay.style.borderRadius = '3px';\n  overlay.id = DEV_TOOLS_HIGHLIGHT_NODE_ID;\n  const overlayContent = document.createElement('div');\n  overlayContent.style.backgroundColor = toCSSColor(...color, 0.9);\n  overlayContent.style.position = 'absolute';\n  overlayContent.style.fontFamily = 'monospace';\n  overlayContent.style.fontSize = '11px';\n  overlayContent.style.padding = '2px 3px';\n  overlayContent.style.borderRadius = '3px';\n  overlayContent.style.color = 'white';\n  overlay.appendChild(overlayContent);\n  return {overlay, overlayContent};\n}\n\nexport function findComponentAndHost(el: Node | undefined): {\n  component: any;\n  host: HTMLElement | null;\n} {\n  if (!el) {\n    return {component: null, host: null};\n  }\n  while (el) {\n    const component = el instanceof HTMLElement && ng.getComponent(el);\n    if (component) {\n      return {component, host: el as HTMLElement};\n    }\n    if (!el.parentElement) {\n      break;\n    }\n    el = el.parentElement;\n  }\n  return {component: null, host: null};\n}\n\n// Todo(aleksanderbodurri): this should not be part of the highlighter, move this somewhere else\nexport function getDirectiveName(dir: Type<unknown> | undefined | null): string {\n  return dir ? dir.constructor.name : 'unknown';\n}\n\nexport function highlightSelectedElement(el: Node): void {\n  selectedElementOverlay = addHighlightForElement(el);\n}\n\nexport function highlightHydrationElement(el: Node, status: HydrationStatus) {\n  let overlay: HTMLElement | null = null;\n  if (status?.status === 'skipped') {\n    overlay = addHighlightForElement(el, COLORS.grey, status?.status);\n  } else if (status?.status === 'mismatched') {\n    overlay = addHighlightForElement(el, COLORS.red, status?.status);\n  } else if (status?.status === 'hydrated') {\n    overlay = addHighlightForElement(el, COLORS.blue, status?.status);\n  }\n\n  if (overlay) {\n    hydrationOverlayItems.push(overlay);\n  }\n}\n\nexport function unHighlight(): void {\n  if (selectedElementOverlay) {\n    document.body.removeChild(selectedElementOverlay);\n    selectedElementOverlay = null;\n  }\n}\n\nexport function removeHydrationHighlights(): void {\n  hydrationOverlayItems.forEach((overlay) => {\n    document.body.removeChild(overlay);\n  });\n  hydrationOverlayItems = [];\n}\n\nexport function inDoc(node: any): boolean {\n  if (!node) {\n    return false;\n  }\n  const doc = node.ownerDocument.documentElement;\n  const parent = node.parentNode;\n  return (\n    doc === node || doc === parent || !!(parent && parent.nodeType === 1 && doc.contains(parent))\n  );\n}\n\nfunction addHighlightForElement(\n  el: Node,\n  color: RgbColor = COLORS.blue,\n  overlayType?: NonNullable<HydrationStatus>['status'],\n): HTMLElement | null {\n  const cmp = findComponentAndHost(el).component;\n  const rect = getComponentRect(el);\n  if (rect?.height === 0 || rect?.width === 0) {\n    // display nothing in case the component is not visible\n    return null;\n  }\n\n  const {overlay, overlayContent} = createOverlay(color);\n  if (!rect) return null;\n\n  const content: Node[] = [];\n  const componentName = getDirectiveName(cmp);\n\n  // We display an icon inside the overlay if the container computer is wide enough\n  if (overlayType) {\n    if (\n      rect.width > MINIMAL_OVERLAY_CONTENT_SIZE.width &&\n      rect.height > MINIMAL_OVERLAY_CONTENT_SIZE.height\n    ) {\n      // 30x20 + 8px margin\n      const svg = createOverlaySvgElement(overlayType!);\n      content.push(svg);\n    }\n  } else if (componentName) {\n    const middleText = document.createTextNode(componentName);\n    const pre = document.createElement('span');\n    pre.innerText = `<`;\n    const post = document.createElement('span');\n    post.innerText = `>`;\n    content.push(pre, middleText, post);\n  }\n  showOverlay(overlay, overlayContent, rect, content, overlayType ? 'inside' : 'outside');\n  return overlay;\n}\n\nfunction getComponentRect(el: Node): DOMRect | undefined {\n  if (!(el instanceof HTMLElement)) {\n    return;\n  }\n  if (!inDoc(el)) {\n    return;\n  }\n  return el.getBoundingClientRect();\n}\n\nfunction showOverlay(\n  overlay: HTMLElement,\n  overlayContent: HTMLElement,\n  dimensions: DOMRect,\n  content: Node[],\n  labelPosition: 'inside' | 'outside',\n): void {\n  const {width, height, top, left} = dimensions;\n  overlay.style.width = ~~width + 'px';\n  overlay.style.height = ~~height + 'px';\n  overlay.style.top = ~~top + 'px';\n  overlay.style.left = ~~left + 'px';\n\n  positionOverlayContent(overlayContent, dimensions, labelPosition);\n  overlayContent.replaceChildren();\n\n  if (content.length) {\n    content.forEach((child) => overlayContent.appendChild(child));\n  } else {\n    // If the overlay label has no content, remove it from the DOM.\n    overlay.removeChild(overlayContent);\n  }\n\n  document.body.appendChild(overlay);\n}\n\nfunction positionOverlayContent(\n  overlayContent: HTMLElement,\n  dimensions: DOMRect,\n  labelPosition: 'inside' | 'outside',\n) {\n  const {innerWidth: viewportWidth, innerHeight: viewportHeight} = window;\n  const style = overlayContent.style;\n  const yOffset = 23;\n  const yOffsetValue = `-${yOffset}px`;\n\n  if (labelPosition === 'inside') {\n    style.top = `${OVERLAY_CONTENT_MARGIN}px`;\n    style.right = `${OVERLAY_CONTENT_MARGIN}px`;\n    return;\n  }\n\n  // Clear any previous positioning styles.\n  style.top = style.bottom = style.left = style.right = '';\n\n  // Attempt to position the content element so that it's always in the\n  // viewport along the Y axis. Prefer to position on the bottom.\n  if (dimensions.bottom + yOffset <= viewportHeight) {\n    style.bottom = yOffsetValue;\n    // If it doesn't fit on the bottom, try to position on top.\n  } else if (dimensions.top - yOffset >= 0) {\n    style.top = yOffsetValue;\n    // Otherwise offset from the bottom until it fits on the screen.\n  } else {\n    style.bottom = `${Math.max(dimensions.bottom - viewportHeight, 0)}px`;\n  }\n\n  // Attempt to position the content element so that it's always in the\n  // viewport along the X axis. Prefer to position on the right.\n  if (dimensions.right <= viewportWidth) {\n    style.right = '0';\n    // If it doesn't fit on the right, try to position on left.\n  } else if (dimensions.left >= 0) {\n    style.left = '0';\n    // Otherwise offset from the right until it fits on the screen.\n  } else {\n    style.right = `${Math.max(dimensions.right - viewportWidth, 0)}px`;\n  }\n}\n\nfunction toCSSColor(red: number, green: number, blue: number, alpha = 1): string {\n  return `rgba(${red},${green},${blue},${alpha})`;\n}\n\nfunction createOverlaySvgElement(type: NonNullable<HydrationStatus>['status']): Node {\n  let icon: string;\n  if (type === 'hydrated') {\n    icon = HYDRATION_SVG;\n  } else if (type === 'mismatched') {\n    icon = HYDRATION_ERROR_SVG;\n  } else if (type === 'skipped') {\n    icon = HYDRATION_SKIPPED_SVG;\n  } else {\n    throw new Error(`No icon specified for type ${type}`);\n  }\n\n  const svg = new DOMParser().parseFromString(icon, 'image/svg+xml').childNodes[0] as SVGElement;\n  svg.style.fill = 'white';\n  svg.style.height = '1.5em';\n  return svg;\n}\n", "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nexport const ngDebug = () => (window as any).ng;\n\nexport const runOutsideAngular = (f: () => void): void => {\n  const w = window as any;\n  if (!w.Zone || !w.Zone.current) {\n    f();\n    return;\n  }\n  if (w.Zone.current._name !== 'angular') {\n    w.Zone.current.run(f);\n    return;\n  }\n  const parent = w.Zone.current._parent;\n  if (parent && parent.run) {\n    parent.run(f);\n    return;\n  }\n  f();\n};\n\nexport const isCustomElement = (node: Node) => {\n  if (typeof customElements === 'undefined') {\n    return false;\n  }\n  if (!(node instanceof HTMLElement)) {\n    return false;\n  }\n  const tagName = node.tagName.toLowerCase();\n  return !!customElements.get(tagName);\n};\n\nexport function hasDiDebugAPIs(): boolean {\n  if (!ngDebugApiIsSupported('ɵgetInjectorResolutionPath')) {\n    return false;\n  }\n  if (!ngDebugApiIsSupported('ɵgetDependenciesFromInjectable')) {\n    return false;\n  }\n  if (!ngDebugApiIsSupported('ɵgetInjectorProviders')) {\n    return false;\n  }\n  if (!ngDebugApiIsSupported('ɵgetInjectorMetadata')) {\n    return false;\n  }\n\n  return true;\n}\n\nexport function ngDebugApiIsSupported(api: string): boolean {\n  const ng = ngDebug();\n  return typeof ng[api] === 'function';\n}\n\nexport function isSignal(prop: unknown): prop is () => unknown {\n  if (!ngDebugApiIsSupported('isSignal')) {\n    return false;\n  }\n  return (window as any).ng.isSignal(prop);\n}\n\nexport function unwrapSignal(s: any): any {\n  return isSignal(s) ? s() : s;\n}\n", "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nconst versionElement = document.querySelector('[ng-version]');\nconst versionRe = /(\\d+\\.\\d+\\.\\d+(-(next|rc)\\.\\d+)?)/;\n\nconst defaultVersion = '0.0.0';\nlet version = defaultVersion;\nif (versionElement) {\n  version = versionElement.getAttribute('ng-version') ?? defaultVersion;\n  version = (version.match(versionRe) ?? [''])[0] ?? defaultVersion;\n}\n\nexport const VERSION = version;\n", "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport type {ɵGlobalDevModeUtils as GlobalDevModeUtils} from '@angular/core';\n\n/**\n * Returns a handle to window.ng APIs (global angular debugging).\n *\n * @returns window.ng\n */\nexport const ngDebugClient = () => (window as any as GlobalDevModeUtils).ng;\n\n/**\n * Checks whether a given debug API is supported within window.ng\n *\n * @returns boolean\n */\nexport function ngDebugApiIsSupported(api: keyof GlobalDevModeUtils['ng']): boolean {\n  const ng = ngDebugClient();\n  return typeof ng[api] === 'function';\n}\n\n/**\n * Checks whether Dependency Injection debug API is supported within window.ng\n *\n * @returns boolean\n */\nexport function ngDebugDependencyInjectionApiIsSupported(): boolean {\n  if (!ngDebugApiIsSupported('ɵgetInjectorResolutionPath')) {\n    return false;\n  }\n  if (!ngDebugApiIsSupported('ɵgetDependenciesFromInjectable')) {\n    return false;\n  }\n  if (!ngDebugApiIsSupported('ɵgetInjectorProviders')) {\n    return false;\n  }\n  if (!ngDebugApiIsSupported('ɵgetInjectorMetadata')) {\n    return false;\n  }\n\n  return true;\n}\n", "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ɵHydratedNode as HydrationNode} from '@angular/core';\nimport {HydrationStatus} from 'protocol';\n\nimport {ComponentTreeNode} from '../interfaces';\nimport {ngDebugClient} from '../ng-debug-api/ng-debug-api';\nimport {isCustomElement} from '../utils';\n\nconst extractViewTree = (\n  domNode: Node | Element,\n  result: ComponentTreeNode[],\n  getComponent: (element: Element) => {} | null,\n  getDirectives: (node: Node) => {}[],\n): ComponentTreeNode[] => {\n  const directives = getDirectives(domNode);\n  if (!directives.length && !(domNode instanceof Element)) {\n    return result;\n  }\n  const componentTreeNode: ComponentTreeNode = {\n    children: [],\n    component: null,\n    directives: directives.map((dir) => {\n      return {\n        instance: dir,\n        name: dir.constructor.name,\n      };\n    }),\n    element: domNode.nodeName.toLowerCase(),\n    nativeElement: domNode,\n    hydration: hydrationStatus(domNode as HydrationNode),\n  };\n  if (!(domNode instanceof Element)) {\n    result.push(componentTreeNode);\n    return result;\n  }\n  const component = getComponent(domNode);\n  if (component) {\n    componentTreeNode.component = {\n      instance: component,\n      isElement: isCustomElement(domNode),\n      name: domNode.nodeName.toLowerCase(),\n    };\n  }\n  if (component || componentTreeNode.directives.length) {\n    result.push(componentTreeNode);\n  }\n  if (componentTreeNode.component || componentTreeNode.directives.length) {\n    domNode.childNodes.forEach((node) =>\n      extractViewTree(node, componentTreeNode.children, getComponent, getDirectives),\n    );\n  } else {\n    domNode.childNodes.forEach((node) =>\n      extractViewTree(node, result, getComponent, getDirectives),\n    );\n  }\n  return result;\n};\n\nfunction hydrationStatus(node: HydrationNode): HydrationStatus {\n  switch (node.__ngDebugHydrationInfo__?.status) {\n    case 'hydrated':\n      return {status: 'hydrated'};\n    case 'skipped':\n      return {status: 'skipped'};\n    case 'mismatched':\n      return {\n        status: 'mismatched',\n        expectedNodeDetails: node.__ngDebugHydrationInfo__.expectedNodeDetails,\n        actualNodeDetails: node.__ngDebugHydrationInfo__.actualNodeDetails,\n      };\n    default:\n      return null;\n  }\n}\n\nexport class RTreeStrategy {\n  supports(): boolean {\n    return (['getDirectiveMetadata', 'getComponent', 'getDirectives'] as const).every(\n      (method) => typeof ngDebugClient()[method] === 'function',\n    );\n  }\n\n  build(element: Element): ComponentTreeNode[] {\n    // We want to start from the root element so that we can find components which are attached to\n    // the application ref and which host elements have been inserted with DOM APIs.\n    while (element.parentElement) {\n      element = element.parentElement;\n    }\n    const getComponent = ngDebugClient().getComponent;\n    const getDirectives = ngDebugClient().getDirectives;\n    return extractViewTree(element, [], getComponent, getDirectives);\n  }\n}\n", "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {LTreeStrategy} from './ltree';\nimport {RTreeStrategy} from './render-tree';\n\nexport {\n  getDirectiveHostElement,\n  getLViewFromDirectiveOrElementInstance,\n  METADATA_PROPERTY_NAME,\n} from './ltree';\n\n// The order of the strategies matters. Lower indices have higher priority.\nconst strategies = [new RTreeStrategy(), new LTreeStrategy()];\n\nlet strategy: null | RTreeStrategy | LTreeStrategy = null;\n\nconst selectStrategy = (element: Element) => {\n  for (const s of strategies) {\n    if (s.supports(element)) {\n      return s;\n    }\n  }\n  return null;\n};\n\nexport const buildDirectiveTree = (element: Element) => {\n  if (!strategy) {\n    strategy = selectStrategy(element);\n  }\n  if (!strategy) {\n    console.error('Unable to parse the component tree');\n    return [];\n  }\n  return strategy.build(element);\n};\n", "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {unwrapSignal} from '../utils';\n\n// Intentionally do not include all the prototype (Except for getters and setters)\n// because it contains inherited methods (hasOwnProperty, etc.). Also ignore symbols\n// because it is tricky to pass a path to a symbol.\n//\n// We'd have to go through a serialization and deserialization logic\n// which will add unnecessary complexity.\nexport function getKeys(obj: {}): string[] {\n  if (!obj) {\n    return [];\n  }\n  obj = unwrapSignal(obj);\n  const properties = Object.getOwnPropertyNames(obj);\n\n  const prototypeMembers = Object.getOwnPropertyDescriptors(Object.getPrototypeOf(obj));\n\n  const ignoreList = ['__proto__'];\n  const gettersAndSetters = Object.keys(prototypeMembers).filter((methodName) => {\n    if (ignoreList.includes(methodName)) {\n      return false;\n    }\n    const targetMethod = prototypeMembers[methodName];\n\n    return targetMethod.get || targetMethod.set;\n  });\n\n  return properties.concat(gettersAndSetters);\n}\n\n/**\n * This helper function covers the common scenario as well as the getters and setters\n * @param instance The target object\n * @param propName The string representation of the target property name\n * @returns The Descriptor object of the property\n */\nexport const getDescriptor = (instance: any, propName: string): PropertyDescriptor | undefined =>\n  Object.getOwnPropertyDescriptor(instance, propName) ||\n  Object.getOwnPropertyDescriptor(Object.getPrototypeOf(instance), propName);\n", "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {PropType} from 'protocol';\n\nimport {isSignal} from '../utils';\n\nconst commonTypes = {\n  boolean: PropType.Boolean,\n  bigint: PropType.BigInt,\n  function: PropType.Function,\n  number: PropType.Number,\n  string: PropType.String,\n  symbol: PropType.Symbol,\n};\n\n/**\n * Determines the devtools-PropType of a component's property\n * @param prop component's property\n * @returns PropType\n * @see `devtools/projects/protocol`\n */\nexport const getPropType = (prop: unknown): PropType => {\n  if (isSignal(prop)) {\n    prop = prop();\n  }\n\n  if (prop === undefined) {\n    return PropType.Undefined;\n  }\n  if (prop === null) {\n    return PropType.Null;\n  }\n  if (prop instanceof HTMLElement) {\n    return PropType.HTMLNode;\n  }\n  const type = typeof prop;\n  if (type in commonTypes) {\n    return commonTypes[type as keyof typeof commonTypes];\n  }\n  if (type === 'object') {\n    if (Array.isArray(prop)) {\n      return PropType.Array;\n    } else if (prop instanceof Set) {\n      return PropType.Set;\n    } else if (prop instanceof Map) {\n      return PropType.Map;\n    } else if (Object.prototype.toString.call(prop) === '[object Date]') {\n      return PropType.Date;\n    } else if (prop instanceof Node) {\n      return PropType.HTMLNode;\n    } else {\n      return PropType.Object;\n    }\n  }\n  return PropType.Unknown;\n};\n", "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ContainerType, Descriptor, NestedProp, PropType} from 'protocol';\n\nimport {isSignal, unwrapSignal} from '../utils';\n\nimport {getDescriptor, getKeys} from './object-utils';\n\n// todo(aleksanderbodurri) pull this out of this file\nconst METADATA_PROPERTY_NAME = '__ngContext__';\n\ntype NestedType = PropType.Array | PropType.Object;\n\nexport interface CompositeType {\n  type: Extract<PropType, NestedType>;\n  prop: any;\n  containerType: ContainerType;\n}\n\nexport interface TerminalType {\n  type: Exclude<PropType, NestedType>;\n  prop: any;\n  containerType: ContainerType;\n}\n\nexport type PropertyData = TerminalType | CompositeType;\n\nexport type Formatter<Result> = {\n  [key in PropType]: (data: any) => Result;\n};\n\ninterface LevelOptions {\n  currentLevel: number;\n  level?: number;\n}\n\nconst serializable: Set<PropType> = new Set([\n  PropType.Boolean,\n  PropType.String,\n  PropType.Null,\n  PropType.Number,\n  PropType.Object,\n  PropType.Undefined,\n  PropType.Unknown,\n]);\n\nconst typeToDescriptorPreview: Formatter<string> = {\n  [PropType.Array]: (prop: Array<unknown>) => `Array(${prop.length})`,\n  [PropType.Set]: (prop: Set<unknown>) => `Set(${prop.size})`,\n  [PropType.Map]: (prop: Map<unknown, unknown>) => `Map(${prop.size})`,\n  [PropType.BigInt]: (prop: bigint) => truncate(prop.toString()),\n  [PropType.Boolean]: (prop: boolean) => truncate(prop.toString()),\n  [PropType.String]: (prop: string) => `\"${prop}\"`,\n  [PropType.Function]: (prop: Function) => `${prop.name}(...)`,\n  [PropType.HTMLNode]: (prop: Node) => prop.constructor.name,\n  [PropType.Null]: (_: null) => 'null',\n  [PropType.Number]: (prop: any) => parseInt(prop, 10).toString(),\n  [PropType.Object]: (prop: Object) => (getKeys(prop).length > 0 ? '{...}' : '{}'),\n  [PropType.Symbol]: (symbol: symbol) => `Symbol(${symbol.description})`,\n  [PropType.Undefined]: (_: undefined) => 'undefined',\n  [PropType.Date]: (prop: unknown) => {\n    if (prop instanceof Date) {\n      return `Date(${new Date(prop).toISOString()})`;\n    }\n    return `${prop}`;\n  },\n  [PropType.Unknown]: (_: any) => 'unknown',\n};\n\ntype Key = string | number;\ntype NestedSerializerFn = (\n  instance: any,\n  propName: string | number,\n  nodes: NestedProp[],\n  isReadonly: boolean,\n  currentLevel: number,\n  level?: number,\n) => Descriptor;\n\nconst ignoreList: Set<Key> = new Set([METADATA_PROPERTY_NAME, '__ngSimpleChanges__']);\n\nconst shallowPropTypeToTreeMetaData: Record<\n  Exclude<PropType, NestedType>,\n  {editable: boolean; expandable: boolean}\n> = {\n  [PropType.String]: {\n    editable: true,\n    expandable: false,\n  },\n  [PropType.BigInt]: {\n    editable: false,\n    expandable: false,\n  },\n  [PropType.Boolean]: {\n    editable: true,\n    expandable: false,\n  },\n  [PropType.Number]: {\n    editable: true,\n    expandable: false,\n  },\n  [PropType.Date]: {\n    editable: false,\n    expandable: false,\n  },\n  [PropType.Null]: {\n    editable: true,\n    expandable: false,\n  },\n  [PropType.Undefined]: {\n    editable: true,\n    expandable: false,\n  },\n  [PropType.Symbol]: {\n    editable: false,\n    expandable: false,\n  },\n  [PropType.Function]: {\n    editable: false,\n    expandable: false,\n  },\n  [PropType.HTMLNode]: {\n    editable: false,\n    expandable: false,\n  },\n  [PropType.Unknown]: {\n    editable: false,\n    expandable: false,\n  },\n  [PropType.Set]: {\n    editable: false,\n    expandable: false,\n  },\n  [PropType.Map]: {\n    editable: false,\n    expandable: false,\n  },\n};\n\nconst isEditable = (\n  descriptor: PropertyDescriptor | undefined,\n  propName: string | number,\n  propData: TerminalType,\n  isGetterOrSetter: boolean,\n) => {\n  if (propData.containerType === 'ReadonlySignal') {\n    return false;\n  }\n\n  if (typeof propName === 'symbol') {\n    return false;\n  }\n\n  if (isGetterOrSetter) {\n    return false;\n  }\n\n  if (descriptor?.writable === false) {\n    return false;\n  }\n\n  return shallowPropTypeToTreeMetaData[propData.type].editable;\n};\n\nconst isGetterOrSetter = (descriptor: any): boolean =>\n  (descriptor?.set || descriptor?.get) && !('value' in descriptor);\n\nconst getPreview = (propData: TerminalType | CompositeType, isGetterOrSetter: boolean) => {\n  if (propData.containerType === 'ReadonlySignal') {\n    return `Readonly Signal(${typeToDescriptorPreview[propData.type](propData.prop())})`;\n  } else if (propData.containerType === 'WritableSignal') {\n    return `Signal(${typeToDescriptorPreview[propData.type](propData.prop())})`;\n  }\n  return !isGetterOrSetter\n    ? typeToDescriptorPreview[propData.type](propData.prop)\n    : typeToDescriptorPreview[PropType.Function]({name: ''});\n};\n\nexport function createShallowSerializedDescriptor(\n  instance: any,\n  propName: string | number,\n  propData: TerminalType,\n  isReadonly: boolean,\n): Descriptor {\n  const {type, containerType} = propData;\n\n  const descriptor = getDescriptor(instance, propName as string);\n  const getterOrSetter: boolean = isGetterOrSetter(descriptor);\n\n  const shallowSerializedDescriptor: Descriptor = {\n    type,\n    expandable: shallowPropTypeToTreeMetaData[type].expandable,\n    editable: isEditable(descriptor, propName, propData, getterOrSetter) && !isReadonly,\n    preview: getPreview(propData, getterOrSetter),\n    containerType,\n  };\n\n  if (propData.prop !== undefined && serializable.has(type)) {\n    shallowSerializedDescriptor.value = unwrapSignal(propData.prop);\n  }\n\n  return shallowSerializedDescriptor;\n}\n\nexport function createLevelSerializedDescriptor(\n  instance: {},\n  propName: string | number,\n  propData: CompositeType,\n  levelOptions: LevelOptions,\n  continuation: (\n    instance: any,\n    propName: string | number,\n    isReadonly: boolean,\n    level?: number,\n    max?: number,\n  ) => Descriptor,\n): Descriptor {\n  const {type, prop, containerType} = propData;\n\n  const descriptor = getDescriptor(instance, propName as string);\n  const getterOrSetter: boolean = isGetterOrSetter(descriptor);\n\n  const levelSerializedDescriptor: Descriptor = {\n    type,\n    editable: false,\n    expandable: !getterOrSetter && getKeys(prop).length > 0,\n    preview: getPreview(propData, getterOrSetter),\n    containerType,\n  };\n\n  if (levelOptions.level !== undefined && levelOptions.currentLevel < levelOptions.level) {\n    const value = getLevelDescriptorValue(propData, levelOptions, continuation);\n    if (value !== undefined) {\n      levelSerializedDescriptor.value = value;\n    }\n  }\n\n  return levelSerializedDescriptor;\n}\n\nexport function createNestedSerializedDescriptor(\n  instance: {},\n  propName: string | number,\n  propData: CompositeType,\n  levelOptions: LevelOptions,\n  nodes: NestedProp[],\n  nestedSerializer: NestedSerializerFn,\n): Descriptor {\n  const {type, prop, containerType} = propData;\n\n  const descriptor = getDescriptor(instance, propName as string);\n  const getterOrSetter: boolean = isGetterOrSetter(descriptor);\n\n  const nestedSerializedDescriptor: Descriptor = {\n    type,\n    editable: false,\n    expandable: !getterOrSetter && getKeys(prop).length > 0,\n    preview: getPreview(propData, getterOrSetter),\n    containerType,\n  };\n\n  if (nodes?.length) {\n    const value = getNestedDescriptorValue(propData, levelOptions, nodes, nestedSerializer);\n    if (value !== undefined) {\n      nestedSerializedDescriptor.value = value;\n    }\n  }\n  return nestedSerializedDescriptor;\n}\n\nfunction getNestedDescriptorValue(\n  propData: CompositeType,\n  levelOptions: LevelOptions,\n  nodes: NestedProp[],\n  nestedSerializer: NestedSerializerFn,\n) {\n  const {type, prop} = propData;\n  const {currentLevel} = levelOptions;\n  const value = unwrapSignal(prop);\n\n  switch (type) {\n    case PropType.Array:\n      return nodes.map((nestedProp) =>\n        nestedSerializer(value, nestedProp.name, nestedProp.children, false, currentLevel + 1),\n      );\n    case PropType.Object:\n      return nodes.reduce(\n        (accumulator, nestedProp) => {\n          if (prop.hasOwnProperty(nestedProp.name) && !ignoreList.has(nestedProp.name)) {\n            accumulator[nestedProp.name] = nestedSerializer(\n              value,\n              nestedProp.name,\n              nestedProp.children,\n              false,\n              currentLevel + 1,\n            );\n          }\n          return accumulator;\n        },\n        {} as Record<string, Descriptor>,\n      );\n  }\n}\n\nfunction getLevelDescriptorValue(\n  propData: CompositeType,\n  levelOptions: LevelOptions,\n  continuation: (\n    instance: any,\n    propName: string | number,\n    isReadonly: boolean,\n    level?: number,\n    max?: number,\n  ) => Descriptor,\n) {\n  const {type, prop} = propData;\n  const {currentLevel, level} = levelOptions;\n  const value = unwrapSignal(prop);\n  const isReadonly = isSignal(prop);\n  switch (type) {\n    case PropType.Array:\n      return prop.map((_: any, idx: number) =>\n        continuation(value, idx, isReadonly, currentLevel + 1, level),\n      );\n    case PropType.Object:\n      return getKeys(prop).reduce(\n        (accumulator, propName) => {\n          if (!ignoreList.has(propName)) {\n            accumulator[propName] = continuation(\n              value,\n              propName,\n              isReadonly,\n              currentLevel + 1,\n              level,\n            );\n          }\n          return accumulator;\n        },\n        {} as Record<string, Descriptor>,\n      );\n  }\n}\n\nfunction truncate(str: string, max = 20): string {\n  return str.length > max ? str.substring(0, max) + '...' : str;\n}\n", "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ContainerType, Descriptor, NestedProp, PropType} from 'protocol';\nimport type {Signal} from '@angular/core';\n\nimport {isSignal, unwrapSignal} from '../utils';\n\nimport {getKeys} from './object-utils';\nimport {getPropType} from './prop-type';\nimport {\n  createLevelSerializedDescriptor,\n  createNestedSerializedDescriptor,\n  createShallowSerializedDescriptor,\n  PropertyData,\n} from './serialized-descriptor-factory';\n\n// todo(aleksanderbodurri) pull this out of this file\nconst METADATA_PROPERTY_NAME = '__ngContext__';\n\nconst ignoreList = new Set([METADATA_PROPERTY_NAME, '__ngSimpleChanges__']);\n\nconst MAX_LEVEL = 1;\n\nfunction nestedSerializer(\n  instance: any,\n  propName: string | number,\n  nodes: NestedProp[],\n  isReadonly: boolean,\n  currentLevel = 0,\n  level = MAX_LEVEL,\n): Descriptor {\n  instance = unwrapSignal(instance);\n  const serializableInstance = instance[propName];\n  const propData: PropertyData = {\n    prop: serializableInstance,\n    type: getPropType(serializableInstance),\n    containerType: getContainerType(serializableInstance),\n  };\n\n  if (currentLevel < level) {\n    const continuation = (\n      instance: any,\n      propName: string | number,\n      isReadonly: boolean,\n      nestedLevel?: number,\n      _?: number,\n    ) => {\n      const nodeChildren = nodes.find((v) => v.name === propName)?.children ?? [];\n      return nestedSerializer(instance, propName, nodeChildren, isReadonly, nestedLevel, level);\n    };\n\n    return levelSerializer(instance, propName, isReadonly, currentLevel, level, continuation);\n  }\n\n  switch (propData.type) {\n    case PropType.Array:\n    case PropType.Object:\n      return createNestedSerializedDescriptor(\n        instance,\n        propName,\n        propData,\n        {level, currentLevel},\n        nodes,\n        nestedSerializer,\n      );\n    default:\n      return createShallowSerializedDescriptor(instance, propName, propData, isReadonly);\n  }\n}\n\nfunction levelSerializer(\n  instance: any,\n  propName: string | number,\n  isReadonly: boolean,\n  currentLevel = 0,\n  level = MAX_LEVEL,\n  continuation = levelSerializer,\n): Descriptor {\n  const serializableInstance = instance[propName];\n  const propData: PropertyData = {\n    prop: serializableInstance,\n    type: getPropType(serializableInstance),\n    containerType: getContainerType(serializableInstance),\n  };\n\n  switch (propData.type) {\n    case PropType.Array:\n    case PropType.Object:\n      return createLevelSerializedDescriptor(\n        instance,\n        propName,\n        propData,\n        {level, currentLevel},\n        continuation,\n      );\n    default:\n      return createShallowSerializedDescriptor(instance, propName, propData, isReadonly);\n  }\n}\n\nexport function serializeDirectiveState(instance: object): Record<string, Descriptor> {\n  const result: Record<string, Descriptor> = {};\n  const value = unwrapSignal(instance);\n  const isReadonly = isSignal(instance);\n  getKeys(value).forEach((prop) => {\n    if (typeof prop === 'string' && ignoreList.has(prop)) {\n      return;\n    }\n    result[prop] = levelSerializer(value, prop, isReadonly, 0, 0);\n  });\n  return result;\n}\n\nexport function deeplySerializeSelectedProperties(\n  instance: object,\n  props: NestedProp[],\n): Record<string, Descriptor> {\n  const result: Record<string, Descriptor> = {};\n  const isReadonly = isSignal(instance);\n  getKeys(instance).forEach((prop) => {\n    if (ignoreList.has(prop)) {\n      return;\n    }\n    const childrenProps = props.find((v) => v.name === prop)?.children;\n    if (!childrenProps) {\n      result[prop] = levelSerializer(instance, prop, isReadonly);\n    } else {\n      result[prop] = nestedSerializer(instance, prop, childrenProps, isReadonly);\n    }\n  });\n  return result;\n}\n\nfunction getContainerType(instance: unknown): ContainerType {\n  if (isSignal(instance)) {\n    return isWritableSignal(instance) ? 'WritableSignal' : 'ReadonlySignal';\n  }\n\n  return null;\n}\n\nfunction isWritableSignal(s: any): boolean {\n  return typeof s['set'] === 'function';\n}\n", "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport {\n  ComponentExplorerViewQuery,\n  DirectiveMetadata,\n  DirectivesProperties,\n  ElementPosition,\n  PropertyQueryTypes,\n  SerializedInjectedService,\n  SerializedInjector,\n  SerializedProviderRecord,\n  UpdatedStateData,\n} from 'protocol';\n\nimport {buildDirectiveTree, getLViewFromDirectiveOrElementInstance} from './directive-forest/index';\nimport {\n  ngDebugApiIsSupported,\n  ngDebugClient,\n  ngDebugDependencyInjectionApiIsSupported,\n} from './ng-debug-api/ng-debug-api';\nimport {\n  deeplySerializeSelectedProperties,\n  serializeDirectiveState,\n} from './state-serializer/state-serializer';\n\n// Need to be kept in sync with Angular framework\n// We can't directly import it from framework now\n// because this also pulls up the security policies\n// for Trusted Types, which we reinstantiate.\nenum ChangeDetectionStrategy {\n  OnPush = 0,\n  Default = 1,\n}\n\nimport {ComponentTreeNode, DirectiveInstanceType, ComponentInstanceType} from './interfaces';\n\nimport type {\n  ClassProvider,\n  ExistingProvider,\n  FactoryProvider,\n  InjectOptions,\n  InjectionToken,\n  Injector,\n  Type,\n  ValueProvider,\n  ɵComponentDebugMetadata as ComponentDebugMetadata,\n  ɵProviderRecord as ProviderRecord,\n} from '@angular/core';\nimport {isSignal} from './utils';\n\nexport const injectorToId = new WeakMap<Injector | HTMLElement, string>();\nexport const nodeInjectorToResolutionPath = new WeakMap<HTMLElement, SerializedInjector[]>();\nexport const idToInjector = new Map<string, Injector>();\nexport const injectorsSeen = new Set<string>();\nlet injectorId = 0;\n\nexport function getInjectorId() {\n  return `${injectorId++}`;\n}\n\nexport function getInjectorMetadata(injector: Injector) {\n  return ngDebugClient().ɵgetInjectorMetadata(injector);\n}\n\nexport function getInjectorResolutionPath(injector: Injector): Injector[] {\n  if (!ngDebugApiIsSupported('ɵgetInjectorResolutionPath')) {\n    return [];\n  }\n\n  return ngDebugClient().ɵgetInjectorResolutionPath(injector);\n}\n\nexport function getInjectorFromElementNode(element: Node): Injector | null {\n  return ngDebugClient().getInjector(element);\n}\n\nfunction getDirectivesFromElement(element: HTMLElement): {\n  component: unknown | null;\n  directives: unknown[];\n} {\n  let component = null;\n  if (element instanceof Element) {\n    component = ngDebugClient().getComponent(element);\n  }\n\n  return {\n    component,\n    directives: ngDebugClient().getDirectives(element),\n  };\n}\n\nexport const getLatestComponentState = (\n  query: ComponentExplorerViewQuery,\n  directiveForest?: ComponentTreeNode[],\n): {directiveProperties: DirectivesProperties} | undefined => {\n  // if a directive forest is passed in we don't have to build the forest again.\n  directiveForest = directiveForest ?? buildDirectiveForest();\n\n  const node = queryDirectiveForest(query.selectedElement, directiveForest);\n  if (!node) {\n    return;\n  }\n\n  const directiveProperties: DirectivesProperties = {};\n\n  const injector = ngDebugClient().getInjector(node.nativeElement!);\n\n  const injectors = getInjectorResolutionPath(injector);\n  const resolutionPathWithProviders = !ngDebugDependencyInjectionApiIsSupported()\n    ? []\n    : injectors.map((injector) => ({\n        injector,\n        providers: getInjectorProviders(injector),\n      }));\n  const populateResultSet = (dir: DirectiveInstanceType | ComponentInstanceType) => {\n    const {instance, name} = dir;\n    const metadata = getDirectiveMetadata(instance);\n    metadata.dependencies = getDependenciesForDirective(\n      injector,\n      resolutionPathWithProviders,\n      instance.constructor,\n    );\n\n    if (query.propertyQuery.type === PropertyQueryTypes.All) {\n      directiveProperties[dir.name] = {\n        props: serializeDirectiveState(instance),\n        metadata,\n      };\n    }\n\n    if (query.propertyQuery.type === PropertyQueryTypes.Specified) {\n      directiveProperties[name] = {\n        props: deeplySerializeSelectedProperties(\n          instance,\n          query.propertyQuery.properties[name] || [],\n        ),\n        metadata,\n      };\n    }\n  };\n\n  node.directives.forEach((dir) => populateResultSet(dir));\n  if (node.component) {\n    populateResultSet(node.component);\n  }\n\n  return {\n    directiveProperties,\n  };\n};\n\nfunction serializeElementInjectorWithId(injector: Injector): SerializedInjector | null {\n  let id: string;\n  const element = getElementInjectorElement(injector);\n\n  if (!injectorToId.has(element)) {\n    id = getInjectorId();\n    injectorToId.set(element, id);\n    idToInjector.set(id, injector);\n  }\n\n  id = injectorToId.get(element)!;\n  idToInjector.set(id, injector);\n  injectorsSeen.add(id);\n\n  const serializedInjector = serializeInjector(injector);\n  if (serializedInjector === null) {\n    return null;\n  }\n\n  return {id, ...serializedInjector};\n}\n\nfunction serializeInjectorWithId(injector: Injector): SerializedInjector | null {\n  if (isElementInjector(injector)) {\n    return serializeElementInjectorWithId(injector);\n  } else {\n    return serializeEnvironmentInjectorWithId(injector);\n  }\n}\n\nfunction serializeEnvironmentInjectorWithId(injector: Injector): SerializedInjector | null {\n  let id: string;\n\n  if (!injectorToId.has(injector)) {\n    id = getInjectorId();\n    injectorToId.set(injector, id);\n    idToInjector.set(id, injector);\n  }\n\n  id = injectorToId.get(injector)!;\n  idToInjector.set(id, injector);\n  injectorsSeen.add(id);\n\n  const serializedInjector = serializeInjector(injector);\n  if (serializedInjector === null) {\n    return null;\n  }\n\n  return {id, ...serializedInjector};\n}\n\nconst enum DirectiveMetadataKey {\n  INPUTS = 'inputs',\n  OUTPUTS = 'outputs',\n  ENCAPSULATION = 'encapsulation',\n  ON_PUSH = 'onPush',\n}\n\n// Gets directive metadata. For newer versions of Angular (v12+) it uses\n// the global `getDirectiveMetadata`. For prior versions of the framework\n// the method directly interacts with the directive/component definition.\nconst getDirectiveMetadata = (dir: any): DirectiveMetadata => {\n  const getMetadata = ngDebugClient().getDirectiveMetadata;\n  const metadata = getMetadata?.(dir) as ComponentDebugMetadata;\n  if (metadata) {\n    return {\n      inputs: metadata.inputs,\n      outputs: metadata.outputs,\n      encapsulation: metadata.encapsulation,\n      onPush: metadata.changeDetection === ChangeDetectionStrategy.OnPush,\n    };\n  }\n\n  // Used in older Angular versions, prior to the introduction of `getDirectiveMetadata`.\n  const safelyGrabMetadata = (key: DirectiveMetadataKey) => {\n    try {\n      return dir.constructor.ɵcmp ? dir.constructor.ɵcmp[key] : dir.constructor.ɵdir[key];\n    } catch {\n      console.warn(`Could not find metadata for key: ${key} in directive:`, dir);\n      return undefined;\n    }\n  };\n\n  return {\n    inputs: safelyGrabMetadata(DirectiveMetadataKey.INPUTS),\n    outputs: safelyGrabMetadata(DirectiveMetadataKey.OUTPUTS),\n    encapsulation: safelyGrabMetadata(DirectiveMetadataKey.ENCAPSULATION),\n    onPush: safelyGrabMetadata(DirectiveMetadataKey.ON_PUSH),\n  };\n};\n\nexport function getInjectorProviders(injector: Injector) {\n  if (isNullInjector(injector)) {\n    return [];\n  }\n\n  return ngDebugClient().ɵgetInjectorProviders(injector);\n}\n\nconst getDependenciesForDirective = (\n  injector: Injector,\n  resolutionPath: {injector: Injector; providers: ProviderRecord[]}[],\n  directive: any,\n): SerializedInjectedService[] => {\n  if (!ngDebugApiIsSupported('ɵgetDependenciesFromInjectable')) {\n    return [];\n  }\n\n  let dependencies =\n    ngDebugClient().ɵgetDependenciesFromInjectable(injector, directive)?.dependencies ?? [];\n  const serializedInjectedServices: SerializedInjectedService[] = [];\n\n  let position = 0;\n  for (const dependency of dependencies) {\n    const providedIn = dependency.providedIn;\n    const foundInjectorIndex = resolutionPath.findIndex((node) => node.injector === providedIn);\n\n    if (foundInjectorIndex === -1) {\n      position++;\n      continue;\n    }\n\n    const providers = resolutionPath[foundInjectorIndex].providers;\n    const foundProvider = providers.find((provider) => provider.token === dependency.token);\n\n    // the dependency resolution path is\n    // the path from the root injector to the injector that provided the dependency (1)\n    // +\n    // the import path from the providing injector to the feature module that provided the\n    // dependency (2)\n    const dependencyResolutionPath: SerializedInjector[] = [\n      // (1)\n      ...resolutionPath\n        .slice(0, foundInjectorIndex + 1)\n        .map((node) => serializeInjectorWithId(node.injector)!),\n\n      // (2)\n      // We slice the import path to remove the first element because this is the same\n      // injector as the last injector in the resolution path.\n      ...(foundProvider?.importPath ?? []).slice(1).map((node) => {\n        return {type: 'imported-module', name: valueToLabel(node), id: getInjectorId()};\n      }),\n    ];\n\n    if (dependency.token && isInjectionToken(dependency.token)) {\n      serializedInjectedServices.push({\n        token: dependency.token!.toString(),\n        value: valueToLabel(dependency.value),\n        flags: dependency.flags as InjectOptions,\n        position: [position++],\n        resolutionPath: dependencyResolutionPath,\n      });\n      continue;\n    }\n\n    serializedInjectedServices.push({\n      token: valueToLabel(dependency.token),\n      value: valueToLabel(dependency.value),\n      flags: dependency.flags as InjectOptions,\n      position: [position++],\n      resolutionPath: dependencyResolutionPath,\n    });\n  }\n\n  return serializedInjectedServices;\n};\n\nconst valueToLabel = (value: any): string => {\n  if (isInjectionToken(value)) {\n    return `InjectionToken(${value['_desc']})`;\n  }\n\n  if (typeof value === 'object') {\n    return stripUnderscore(value.constructor.name);\n  }\n\n  if (typeof value === 'function') {\n    return stripUnderscore(value.name);\n  }\n\n  return stripUnderscore(value);\n};\n\nfunction stripUnderscore(str: string): string {\n  if (str.startsWith('_')) {\n    return str.slice(1);\n  }\n\n  return str;\n}\n\nexport function serializeInjector(injector: Injector): Omit<SerializedInjector, 'id'> | null {\n  const metadata = getInjectorMetadata(injector);\n\n  if (metadata === null) {\n    console.error('Angular DevTools: Could not serialize injector.', injector);\n    return null;\n  }\n\n  const providers = getInjectorProviders(injector).length;\n\n  if (metadata.type === 'null') {\n    return {type: 'null', name: 'Null Injector', providers: 0};\n  }\n\n  if (metadata.type === 'element') {\n    const source = metadata.source as HTMLElement;\n    const name = stripUnderscore(elementToDirectiveNames(source)[0]);\n\n    return {type: 'element', name, providers};\n  }\n\n  if (metadata.type === 'environment') {\n    if ((injector as any).scopes instanceof Set) {\n      if ((injector as any).scopes.has('platform')) {\n        return {type: 'environment', name: 'Platform', providers};\n      }\n\n      if ((injector as any).scopes.has('root')) {\n        return {type: 'environment', name: 'Root', providers};\n      }\n    }\n\n    return {type: 'environment', name: stripUnderscore(metadata.source ?? ''), providers};\n  }\n\n  console.error('Angular DevTools: Could not serialize injector.', injector);\n  return null;\n}\n\nexport function serializeProviderRecord(\n  providerRecord: ProviderRecord,\n  index: number,\n  hasImportPath = false,\n): SerializedProviderRecord {\n  let type: 'type' | 'class' | 'value' | 'factory' | 'existing' = 'type';\n  let multi = false;\n\n  if (typeof providerRecord.provider === 'object') {\n    if ((providerRecord.provider as ClassProvider).useClass !== undefined) {\n      type = 'class';\n    } else if ((providerRecord.provider as ValueProvider).useValue !== undefined) {\n      type = 'value';\n    } else if ((providerRecord.provider as FactoryProvider).useFactory !== undefined) {\n      type = 'factory';\n    } else if ((providerRecord.provider as ExistingProvider).useExisting !== undefined) {\n      type = 'existing';\n    }\n\n    if (providerRecord.provider.multi !== undefined) {\n      multi = providerRecord.provider.multi;\n    }\n  }\n\n  const serializedProvider: {\n    token: string;\n    type: typeof type;\n    multi: boolean;\n    isViewProvider: boolean;\n    index: number;\n    importPath?: string[];\n  } = {\n    token: valueToLabel(providerRecord.token),\n    type,\n    multi,\n    isViewProvider: providerRecord.isViewProvider,\n    index,\n  };\n\n  if (hasImportPath) {\n    serializedProvider['importPath'] = (providerRecord.importPath ?? []).map((injector) =>\n      valueToLabel(injector),\n    );\n  }\n\n  return serializedProvider;\n}\n\nfunction elementToDirectiveNames(element: HTMLElement): string[] {\n  const {component, directives} = getDirectivesFromElement(element);\n  return [component, ...directives]\n    .map((dir) => dir?.constructor?.name ?? '')\n    .filter((dir) => !!dir);\n}\n\nexport function getElementInjectorElement(elementInjector: Injector): HTMLElement {\n  if (!isElementInjector(elementInjector)) {\n    throw new Error('Injector is not an element injector');\n  }\n\n  return getInjectorMetadata(elementInjector)!.source as HTMLElement;\n}\n\nfunction isInjectionToken(token: Type<unknown> | InjectionToken<unknown>): boolean {\n  return token.constructor.name === 'InjectionToken';\n}\n\nexport function isElementInjector(injector: Injector) {\n  const metadata = getInjectorMetadata(injector);\n  return metadata !== null && metadata.type === 'element';\n}\n\nfunction isNullInjector(injector: Injector) {\n  const metadata = getInjectorMetadata(injector);\n  return metadata !== null && metadata.type === 'null';\n}\n\nconst getRootLViewsHelper = (element: Element, rootLViews = new Set<any>()): Set<any> => {\n  if (!(element instanceof HTMLElement)) {\n    return rootLViews;\n  }\n  const lView = getLViewFromDirectiveOrElementInstance(element);\n  if (lView) {\n    rootLViews.add(lView);\n    return rootLViews;\n  }\n  // tslint:disable-next-line: prefer-for-of\n  for (let i = 0; i < element.children.length; i++) {\n    getRootLViewsHelper(element.children[i], rootLViews);\n  }\n  return rootLViews;\n};\n\nconst getRoots = () => {\n  const roots = Array.from(document.documentElement.querySelectorAll('[ng-version]'));\n\n  const isTopLevel = (element: Element) => {\n    let parent: Element | null = element;\n\n    while (parent?.parentElement) {\n      parent = parent.parentElement;\n      if (parent.hasAttribute('ng-version')) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  return roots.filter(isTopLevel);\n};\n\nexport const buildDirectiveForest = (): ComponentTreeNode[] => {\n  const roots = getRoots();\n  return Array.prototype.concat.apply([], Array.from(roots).map(buildDirectiveTree));\n};\n\n// Based on an ElementID we return a specific component node.\n// If we can't find any, we return null.\nexport const queryDirectiveForest = (\n  position: ElementPosition,\n  forest: ComponentTreeNode[],\n): ComponentTreeNode | null => {\n  if (!position.length) {\n    return null;\n  }\n  let node: null | ComponentTreeNode = null;\n  for (const i of position) {\n    node = forest[i];\n    if (!node) {\n      return null;\n    }\n    forest = node.children;\n  }\n  return node;\n};\n\nexport const findNodeInForest = (\n  position: ElementPosition,\n  forest: ComponentTreeNode[],\n): HTMLElement | null => {\n  const foundComponent: ComponentTreeNode | null = queryDirectiveForest(position, forest);\n  return foundComponent ? (foundComponent.nativeElement as HTMLElement) : null;\n};\n\nexport const findNodeFromSerializedPosition = (\n  serializedPosition: string,\n): ComponentTreeNode | null => {\n  const position: number[] = serializedPosition.split(',').map((index) => parseInt(index, 10));\n  return queryDirectiveForest(position, buildDirectiveForest());\n};\n\nexport const updateState = (updatedStateData: UpdatedStateData): void => {\n  const ng = ngDebugClient();\n  const node = queryDirectiveForest(updatedStateData.directiveId.element, buildDirectiveForest());\n  if (!node) {\n    console.warn(\n      'Could not update the state of component',\n      updatedStateData,\n      'because the component was not found',\n    );\n    return;\n  }\n  if (updatedStateData.directiveId.directive !== undefined) {\n    const directive = node.directives[updatedStateData.directiveId.directive].instance;\n    mutateComponentOrDirective(updatedStateData, directive);\n    ng.applyChanges(ng.getOwningComponent(directive)!);\n    return;\n  }\n  if (node.component) {\n    const comp = node.component.instance;\n    mutateComponentOrDirective(updatedStateData, comp);\n    ng.applyChanges(comp);\n    return;\n  }\n};\n\nconst mutateComponentOrDirective = (updatedStateData: UpdatedStateData, compOrDirective: any) => {\n  const valueKey = updatedStateData.keyPath.pop();\n  if (valueKey === undefined) {\n    return;\n  }\n\n  let parentObjectOfValueToUpdate = compOrDirective;\n  updatedStateData.keyPath.forEach((key) => {\n    parentObjectOfValueToUpdate = parentObjectOfValueToUpdate[key];\n  });\n\n  if (isSignal(parentObjectOfValueToUpdate)) {\n    // we don't support updating nested objects in signals yet\n    return;\n  }\n\n  // When we try to set a property which only has a getter\n  // the line below could throw an error.\n  try {\n    if (isSignal(parentObjectOfValueToUpdate[valueKey])) {\n      parentObjectOfValueToUpdate[valueKey].set(updatedStateData.newValue);\n    } else {\n      parentObjectOfValueToUpdate[valueKey] = updatedStateData.newValue;\n    }\n  } catch {}\n};\n\nexport function serializeResolutionPath(resolutionPath: Injector[]): SerializedInjector[] {\n  const serializedResolutionPath: SerializedInjector[] = [];\n\n  for (const injector of resolutionPath) {\n    let serializedInjectorWithId: SerializedInjector | null = null;\n\n    if (isElementInjector(injector)) {\n      serializedInjectorWithId = serializeElementInjectorWithId(injector);\n    } else {\n      serializedInjectorWithId = serializeEnvironmentInjectorWithId(injector);\n    }\n\n    if (serializedInjectorWithId === null) {\n      continue;\n    }\n\n    serializedResolutionPath.push(serializedInjectorWithId);\n  }\n\n  return serializedResolutionPath;\n}\n", "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {DevToolsNode, ElementPosition} from 'protocol';\n\nimport {buildDirectiveForest} from '../component-tree';\nimport {ComponentInstanceType, ComponentTreeNode, DirectiveInstanceType} from '../interfaces';\n\nexport declare interface Type<T> extends Function {\n  new (...args: any[]): T;\n}\n\ninterface TreeNode {\n  parent: TreeNode;\n  directive?: Type<any>;\n  children: TreeNode[];\n}\n\nexport type NodeArray = {\n  directive: any;\n  isComponent: boolean;\n}[];\n\nexport class IdentityTracker {\n  private static _instance: IdentityTracker;\n\n  private _directiveIdCounter = 0;\n  private _currentDirectivePosition = new Map<any, ElementPosition>();\n  private _currentDirectiveId = new Map<any, number>();\n  isComponent = new Map<any, boolean>();\n\n  // private constructor for Singleton Pattern\n  private constructor() {}\n\n  static getInstance(): IdentityTracker {\n    if (!IdentityTracker._instance) {\n      IdentityTracker._instance = new IdentityTracker();\n    }\n    return IdentityTracker._instance;\n  }\n\n  getDirectivePosition(dir: any): ElementPosition | undefined {\n    return this._currentDirectivePosition.get(dir);\n  }\n\n  getDirectiveId(dir: any): number | undefined {\n    return this._currentDirectiveId.get(dir);\n  }\n\n  hasDirective(dir: any): boolean {\n    return this._currentDirectiveId.has(dir);\n  }\n\n  index(): {\n    newNodes: NodeArray;\n    removedNodes: NodeArray;\n    indexedForest: IndexedNode[];\n    directiveForest: ComponentTreeNode[];\n  } {\n    const directiveForest = buildDirectiveForest();\n    const indexedForest = indexForest(directiveForest);\n    const newNodes: NodeArray = [];\n    const removedNodes: NodeArray = [];\n    const allNodes = new Set<any>();\n    indexedForest.forEach((root) => this._index(root, null, newNodes, allNodes));\n    this._currentDirectiveId.forEach((_: number, dir: any) => {\n      if (!allNodes.has(dir)) {\n        removedNodes.push({directive: dir, isComponent: !!this.isComponent.get(dir)});\n        // We can't clean these up because during profiling\n        // they might be requested for removed components\n        // this._currentDirectiveId.delete(dir);\n        // this._currentDirectivePosition.delete(dir);\n      }\n    });\n    return {newNodes, removedNodes, indexedForest, directiveForest};\n  }\n\n  private _index(\n    node: IndexedNode,\n    parent: TreeNode | null,\n    newNodes: {directive: any; isComponent: boolean}[],\n    allNodes: Set<any>,\n  ): void {\n    if (node.component) {\n      allNodes.add(node.component.instance);\n      this.isComponent.set(node.component.instance, true);\n      this._indexNode(node.component.instance, node.position, newNodes);\n    }\n    (node.directives || []).forEach((dir) => {\n      allNodes.add(dir.instance);\n      this.isComponent.set(dir.instance, false);\n      this._indexNode(dir.instance, node.position, newNodes);\n    });\n    node.children.forEach((child) => this._index(child, parent, newNodes, allNodes));\n  }\n\n  private _indexNode(directive: any, position: ElementPosition, newNodes: NodeArray): void {\n    this._currentDirectivePosition.set(directive, position);\n    if (!this._currentDirectiveId.has(directive)) {\n      newNodes.push({directive, isComponent: !!this.isComponent.get(directive)});\n      this._currentDirectiveId.set(directive, this._directiveIdCounter++);\n    }\n  }\n\n  destroy(): void {\n    this._currentDirectivePosition = new Map<any, ElementPosition>();\n    this._currentDirectiveId = new Map<any, number>();\n  }\n}\n\nexport interface IndexedNode extends DevToolsNode<DirectiveInstanceType, ComponentInstanceType> {\n  position: ElementPosition;\n  children: IndexedNode[];\n}\n\nconst indexTree = <T extends DevToolsNode<DirectiveInstanceType, ComponentInstanceType>>(\n  node: T,\n  idx: number,\n  parentPosition: number[] = [],\n): IndexedNode => {\n  const position = parentPosition.concat([idx]);\n  return {\n    position,\n    element: node.element,\n    component: node.component,\n    directives: node.directives.map((d) => ({position, ...d})),\n    children: node.children.map((n, i) => indexTree(n, i, position)),\n    nativeElement: node.nativeElement,\n    hydration: node.hydration,\n  } as IndexedNode;\n};\n\nexport const indexForest = <T extends DevToolsNode<DirectiveInstanceType, ComponentInstanceType>>(\n  forest: T[],\n): IndexedNode[] => forest.map((n, i) => indexTree(n, i));\n", "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ElementPosition, LifecycleProfile} from 'protocol';\nimport {Subject} from 'rxjs';\n\nimport {NodeArray} from '../identity-tracker';\n\ntype CreationHook = (\n  componentOrDirective: any,\n  node: Node,\n  id: number,\n  isComponent: boolean,\n  position: ElementPosition,\n) => void;\n\ntype LifecycleStartHook = (\n  componentOrDirective: any,\n  hook: keyof LifecycleProfile,\n  node: Node,\n  id: number,\n  isComponent: boolean,\n) => void;\n\ntype LifecycleEndHook = (\n  componentOrDirective: any,\n  hook: keyof LifecycleProfile,\n  node: Node,\n  id: number,\n  isComponent: boolean,\n) => void;\n\ntype ChangeDetectionStartHook = (\n  component: any,\n  node: Node,\n  id: number,\n  position: ElementPosition,\n) => void;\n\ntype ChangeDetectionEndHook = (\n  component: any,\n  node: Node,\n  id: number,\n  position: ElementPosition,\n) => void;\n\ntype DestroyHook = (\n  componentOrDirective: any,\n  node: Node,\n  id: number,\n  isComponent: boolean,\n  position: ElementPosition,\n) => void;\n\ntype OutputStartHook = (\n  componentOrDirective: any,\n  outputName: string,\n  node: Node,\n  isComponent: boolean,\n) => void;\ntype OutputEndHook = (\n  componentOrDirective: any,\n  outputName: string,\n  node: Node,\n  isComponent: boolean,\n) => void;\n\nexport interface Hooks {\n  onCreate: CreationHook;\n  onDestroy: DestroyHook;\n  onChangeDetectionStart: ChangeDetectionStartHook;\n  onChangeDetectionEnd: ChangeDetectionEndHook;\n  onLifecycleHookStart: LifecycleStartHook;\n  onLifecycleHookEnd: LifecycleEndHook;\n  onOutputStart: OutputStartHook;\n  onOutputEnd: OutputEndHook;\n}\n\n/**\n *  Class for profiling angular applications. Handles hook subscriptions and emitting change\n * detection events.\n */\nexport abstract class Profiler {\n  /** @internal */\n  protected _inChangeDetection = false;\n\n  changeDetection$ = new Subject<void>();\n\n  private _hooks: Partial<Hooks>[] = [];\n\n  constructor(config: Partial<Hooks> = {}) {\n    this._hooks.push(config);\n  }\n\n  abstract destroy(): void;\n\n  abstract onIndexForest(newNodes: NodeArray, removedNodes: NodeArray): void;\n\n  subscribe(config: Partial<Hooks>): void {\n    this._hooks.push(config);\n  }\n\n  unsubscribe(config: Partial<Hooks>): void {\n    this._hooks.splice(this._hooks.indexOf(config), 1);\n  }\n\n  /** @internal */\n  protected _onCreate(\n    _: any,\n    __: Node,\n    id: number | undefined,\n    ___: boolean,\n    position: ElementPosition | undefined,\n  ): void {\n    if (id === undefined || position === undefined) {\n      return;\n    }\n    this._invokeCallback('onCreate', arguments);\n  }\n\n  /** @internal */\n  protected _onDestroy(\n    _: any,\n    __: Node,\n    id: number | undefined,\n    ___: boolean,\n    position: ElementPosition | undefined,\n  ): void {\n    if (id === undefined || position === undefined) {\n      return;\n    }\n    this._invokeCallback('onDestroy', arguments);\n  }\n\n  /** @internal */\n  protected _onChangeDetectionStart(\n    _: any,\n    __: Node,\n    id: number | undefined,\n    position: ElementPosition | undefined,\n  ): void {\n    if (id === undefined || position === undefined) {\n      return;\n    }\n    this._invokeCallback('onChangeDetectionStart', arguments);\n  }\n\n  /** @internal */\n  protected _onChangeDetectionEnd(\n    _: any,\n    __: Node,\n    id: number | undefined,\n    position: ElementPosition | undefined,\n  ): void {\n    if (id === undefined || position === undefined) {\n      return;\n    }\n    this._invokeCallback('onChangeDetectionEnd', arguments);\n  }\n\n  /** @internal */\n  protected _onLifecycleHookStart(\n    _: any,\n    __: keyof LifecycleProfile | 'unknown',\n    ___: Node,\n    id: number | undefined,\n    ____: boolean,\n  ): void {\n    if (id === undefined) {\n      return;\n    }\n    this._invokeCallback('onLifecycleHookStart', arguments);\n  }\n\n  /** @internal */\n  protected _onLifecycleHookEnd(\n    _: any,\n    __: keyof LifecycleProfile | 'unknown',\n    ___: Node,\n    id: number | undefined,\n    ____: boolean,\n  ): void {\n    if (id === undefined) {\n      return;\n    }\n    this._invokeCallback('onLifecycleHookEnd', arguments);\n  }\n\n  /** @internal */\n  protected _onOutputStart(\n    _: any,\n    __: string,\n    ___: Node,\n    id: number | undefined,\n    ____: boolean,\n  ): void {\n    if (id === undefined) {\n      return;\n    }\n    this._invokeCallback('onOutputStart', arguments);\n  }\n\n  /** @internal */\n  protected _onOutputEnd(\n    _: any,\n    __: string,\n    ___: Node,\n    id: number | undefined,\n    ____: boolean,\n  ): void {\n    if (id === undefined) {\n      return;\n    }\n    this._invokeCallback('onOutputEnd', arguments);\n  }\n\n  /** @internal */\n  private _invokeCallback(name: keyof Hooks, args: IArguments): void {\n    this._hooks.forEach((config) => {\n      const cb = config[name];\n      if (typeof cb === 'function') {\n        (cb as any).apply(null, args);\n      }\n    });\n  }\n}\n\nconst hookNames = [\n  'OnInit',\n  'OnDestroy',\n  'OnChanges',\n  'DoCheck',\n  'AfterContentInit',\n  'AfterContentChecked',\n  'AfterViewInit',\n  'AfterViewChecked',\n];\n\nconst hookMethodNames = new Set(hookNames.map((hook) => `ng${hook}`));\n\nexport const getLifeCycleName = (obj: {}, fn: any): keyof LifecycleProfile | 'unknown' => {\n  const proto = Object.getPrototypeOf(obj);\n  const keys = Object.getOwnPropertyNames(proto);\n  for (const propName of keys) {\n    // We don't want to touch random get accessors.\n    if (!hookMethodNames.has(propName)) {\n      continue;\n    }\n    if (proto[propName] === fn) {\n      return propName as keyof LifecycleProfile;\n    }\n  }\n  const fnName = fn.name;\n  if (typeof fnName !== 'string') {\n    return 'unknown';\n  }\n  for (const hookName of hookNames) {\n    if (fnName.indexOf(hookName) >= 0) {\n      return `ng${hookName}` as keyof LifecycleProfile;\n    }\n  }\n  return 'unknown';\n};\n", "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ɵProfilerEvent} from '@angular/core';\n\nimport {getDirectiveHostElement} from '../../directive-forest';\nimport {ngDebugClient} from '../../ng-debug-api/ng-debug-api';\nimport {runOutsideAngular} from '../../utils';\nimport {IdentityTracker, NodeArray} from '../identity-tracker';\n\nimport {getLifeCycleName, Hooks, Profiler} from './shared';\n\ntype ProfilerCallback = (\n  event: ɵProfilerEvent,\n  instanceOrLView: {} | null,\n  hookOrListener: any,\n) => void;\n\n/** Implementation of Profiler that utilizes framework APIs fire profiler hooks. */\nexport class NgProfiler extends Profiler {\n  private _tracker = IdentityTracker.getInstance();\n  private _callbacks: ProfilerCallback[] = [];\n  private _lastDirectiveInstance: {} | null = null;\n\n  constructor(config: Partial<Hooks> = {}) {\n    super(config);\n    this._setProfilerCallback(\n      (event: ɵProfilerEvent, instanceOrLView: {} | null, hookOrListener: any) => {\n        if (this[event] === undefined) {\n          return;\n        }\n\n        this[event](instanceOrLView, hookOrListener);\n      },\n    );\n    this._initialize();\n  }\n\n  private _initialize(): void {\n    ngDebugClient().ɵsetProfiler(\n      (event: ɵProfilerEvent, instanceOrLView: {} | null, hookOrListener: any) =>\n        this._callbacks.forEach((cb) => cb(event, instanceOrLView, hookOrListener)),\n    );\n  }\n\n  private _setProfilerCallback(callback: ProfilerCallback): void {\n    this._callbacks.push(callback);\n  }\n\n  override destroy(): void {\n    this._tracker.destroy();\n  }\n\n  override onIndexForest(newNodes: NodeArray, removedNodes: NodeArray): void {\n    newNodes.forEach((node) => {\n      const {directive, isComponent} = node;\n\n      const position = this._tracker.getDirectivePosition(directive);\n      const id = this._tracker.getDirectiveId(directive);\n      this._onCreate(directive, getDirectiveHostElement(directive), id, isComponent, position);\n    });\n\n    removedNodes.forEach((node) => {\n      const {directive, isComponent} = node;\n\n      const position = this._tracker.getDirectivePosition(directive);\n      const id = this._tracker.getDirectiveId(directive);\n      this._onDestroy(directive, getDirectiveHostElement(directive), id, isComponent, position);\n    });\n  }\n\n  [ɵProfilerEvent.TemplateCreateStart](_directive: any, _hookOrListener: any): void {\n    // todo: implement\n    return;\n  }\n\n  [ɵProfilerEvent.TemplateCreateEnd](_directive: any, _hookOrListener: any): void {\n    // todo: implement\n    return;\n  }\n\n  [ɵProfilerEvent.TemplateUpdateStart](context: any, _hookOrListener: any): void {\n    if (!this._inChangeDetection) {\n      this._inChangeDetection = true;\n      runOutsideAngular(() => {\n        Promise.resolve().then(() => {\n          this.changeDetection$.next();\n          this._inChangeDetection = false;\n        });\n      });\n    }\n\n    const position = this._tracker.getDirectivePosition(context);\n    const id = this._tracker.getDirectiveId(context);\n\n    // If we can find the position and the ID we assume that this is a component instance.\n    // Alternatively, if we can't find the ID or the position, we assume that this is a\n    // context of an embedded view (for example, NgForOfContext, NgIfContext, or a custom one).\n    if (position !== undefined && id !== undefined) {\n      this._lastDirectiveInstance = context;\n    }\n\n    if (id !== undefined && position !== undefined) {\n      this._onChangeDetectionStart(context, getDirectiveHostElement(context), id, position);\n      return;\n    }\n\n    this._onChangeDetectionStart(\n      this._lastDirectiveInstance,\n      getDirectiveHostElement(this._lastDirectiveInstance),\n      this._tracker.getDirectiveId(this._lastDirectiveInstance),\n      this._tracker.getDirectivePosition(this._lastDirectiveInstance),\n    );\n  }\n\n  [ɵProfilerEvent.TemplateUpdateEnd](context: any, _hookOrListener: any): void {\n    const position = this._tracker.getDirectivePosition(context);\n    const id = this._tracker.getDirectiveId(context);\n\n    if (this._tracker.hasDirective(context) && id !== undefined && position !== undefined) {\n      this._onChangeDetectionEnd(context, getDirectiveHostElement(context), id, position);\n      return;\n    }\n\n    this._onChangeDetectionEnd(\n      this._lastDirectiveInstance,\n      getDirectiveHostElement(this._lastDirectiveInstance),\n      this._tracker.getDirectiveId(this._lastDirectiveInstance),\n      this._tracker.getDirectivePosition(this._lastDirectiveInstance),\n    );\n  }\n\n  [ɵProfilerEvent.LifecycleHookStart](directive: any, hook: any): void {\n    const id = this._tracker.getDirectiveId(directive);\n    const element = getDirectiveHostElement(directive);\n    const lifecycleHookName = getLifeCycleName(directive, hook);\n    const isComponent = !!this._tracker.isComponent.get(directive);\n\n    this._onLifecycleHookStart(directive, lifecycleHookName, element, id, isComponent);\n  }\n\n  [ɵProfilerEvent.LifecycleHookEnd](directive: any, hook: any): void {\n    const id = this._tracker.getDirectiveId(directive);\n    const element = getDirectiveHostElement(directive);\n    const lifecycleHookName = getLifeCycleName(directive, hook);\n    const isComponent = !!this._tracker.isComponent.get(directive);\n\n    this._onLifecycleHookEnd(directive, lifecycleHookName, element, id, isComponent);\n  }\n\n  [ɵProfilerEvent.OutputStart](componentOrDirective: any, listener: () => void): void {\n    const isComponent = !!this._tracker.isComponent.get(componentOrDirective);\n    const node = getDirectiveHostElement(componentOrDirective);\n    const id = this._tracker.getDirectiveId(componentOrDirective);\n    this._onOutputStart(componentOrDirective, listener.name, node, id, isComponent);\n  }\n\n  [ɵProfilerEvent.OutputEnd](componentOrDirective: any, listener: () => void): void {\n    const isComponent = !!this._tracker.isComponent.get(componentOrDirective);\n    const node = getDirectiveHostElement(componentOrDirective);\n    const id = this._tracker.getDirectiveId(componentOrDirective);\n    this._onOutputEnd(componentOrDirective, listener.name, node, id, isComponent);\n  }\n}\n", "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  getDirectiveHostElement,\n  getLViewFromDirectiveOrElementInstance,\n  METADATA_PROPERTY_NAME,\n} from '../../directive-forest';\nimport {runOutsideAngular} from '../../utils';\nimport {IdentityTracker, NodeArray} from '../identity-tracker';\n\nimport {getLifeCycleName, Profiler} from './shared';\n\nconst hookTViewProperties = [\n  'preOrderHooks',\n  'preOrderCheckHooks',\n  'contentHooks',\n  'contentCheckHooks',\n  'viewHooks',\n  'viewCheckHooks',\n  'destroyHooks',\n];\n\n// Only used in older Angular versions prior to the introduction of `getDirectiveMetadata`\nconst componentMetadata = (instance: any) => instance?.constructor?.ɵcmp;\n\n/**\n * Implementation of Profiler that uses monkey patching of directive templates and lifecycle\n * methods to fire profiler hooks.\n */\nexport class PatchingProfiler extends Profiler {\n  private _patched = new Map<any, () => void>();\n  private _undoLifecyclePatch: (() => void)[] = [];\n  private _tracker = IdentityTracker.getInstance();\n\n  override destroy(): void {\n    this._tracker.destroy();\n\n    for (const [cmp, template] of this._patched) {\n      const meta = componentMetadata(cmp);\n      meta.template = template;\n      meta.tView.template = template;\n    }\n\n    this._patched = new Map<any, () => void>();\n    this._undoLifecyclePatch.forEach((p) => p());\n    this._undoLifecyclePatch = [];\n  }\n\n  override onIndexForest(newNodes: NodeArray, removedNodes: NodeArray): void {\n    newNodes.forEach((node) => {\n      this._observeLifecycle(node.directive, node.isComponent);\n      this._observeComponent(node.directive);\n      this._fireCreationCallback(node.directive, node.isComponent);\n    });\n    removedNodes.forEach((node) => {\n      this._patched.delete(node.directive);\n      this._fireDestroyCallback(node.directive, node.isComponent);\n    });\n  }\n\n  private _fireCreationCallback(component: any, isComponent: boolean): void {\n    const position = this._tracker.getDirectivePosition(component);\n    const id = this._tracker.getDirectiveId(component);\n    this._onCreate(component, getDirectiveHostElement(component), id, isComponent, position);\n  }\n\n  private _fireDestroyCallback(component: any, isComponent: boolean): void {\n    const position = this._tracker.getDirectivePosition(component);\n    const id = this._tracker.getDirectiveId(component);\n    this._onDestroy(component, getDirectiveHostElement(component), id, isComponent, position);\n  }\n\n  private _observeComponent(cmp: any): void {\n    const declarations = componentMetadata(cmp);\n    if (!declarations) {\n      return;\n    }\n    const original = declarations.template;\n    const self = this;\n    if (original.patched) {\n      return;\n    }\n    declarations.tView.template = function (_: any, component: any): void {\n      if (!self._inChangeDetection) {\n        self._inChangeDetection = true;\n        runOutsideAngular(() => {\n          Promise.resolve().then(() => {\n            self.changeDetection$.next();\n            self._inChangeDetection = false;\n          });\n        });\n      }\n      const position = self._tracker.getDirectivePosition(component);\n      const id = self._tracker.getDirectiveId(component);\n\n      self._onChangeDetectionStart(component, getDirectiveHostElement(component), id, position);\n      original.apply(this, arguments);\n      if (self._tracker.hasDirective(component) && id !== undefined && position !== undefined) {\n        self._onChangeDetectionEnd(component, getDirectiveHostElement(component), id, position);\n      }\n    };\n    declarations.tView.template.patched = true;\n    this._patched.set(cmp, original);\n  }\n\n  private _observeLifecycle(directive: any, isComponent: boolean): void {\n    const ctx = getLViewFromDirectiveOrElementInstance(directive);\n    if (!ctx) {\n      return;\n    }\n    const tview = ctx[1];\n    hookTViewProperties.forEach((hook) => {\n      const current = tview[hook];\n      if (!Array.isArray(current)) {\n        return;\n      }\n      current.forEach((el: any, idx: number) => {\n        if (el.patched) {\n          return;\n        }\n        if (typeof el === 'function') {\n          const self = this;\n          current[idx] = function (): any {\n            // We currently don't want to notify the consumer\n            // for execution of lifecycle hooks of services and pipes.\n            // These two abstractions don't have `__ngContext__`, and\n            // currently we won't be able to extract the required\n            // metadata by the UI.\n            if (!(this as any)[METADATA_PROPERTY_NAME]) {\n              return;\n            }\n            const id = self._tracker.getDirectiveId(this);\n            const lifecycleHookName = getLifeCycleName(this, el);\n            const element = getDirectiveHostElement(this);\n            self._onLifecycleHookStart(this, lifecycleHookName, element, id, isComponent);\n            const result = el.apply(this, arguments);\n            self._onLifecycleHookEnd(this, lifecycleHookName, element, id, isComponent);\n            return result;\n          };\n          current[idx].patched = true;\n          this._undoLifecyclePatch.push(() => {\n            current[idx] = el;\n          });\n        }\n      });\n    });\n  }\n}\n", "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ngDebugClient} from '../../ng-debug-api/ng-debug-api';\n\nimport {NgProfiler} from './native';\nimport {PatchingProfiler} from './polyfill';\nimport {Profiler} from './shared';\n\nexport {Hooks, Profiler} from './shared';\n\n/**\n * Factory method for creating profiler object.\n * Gives priority to NgProfiler, falls back on PatchingProfiler if framework APIs are not present.\n */\nexport const selectProfilerStrategy = (): Profiler => {\n  if (typeof ngDebugClient().ɵsetProfiler === 'function') {\n    return new NgProfiler();\n  }\n  return new PatchingProfiler();\n};\n", "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ElementPosition} from 'protocol';\n\nimport {ComponentTreeNode} from '../interfaces';\n\nimport {IdentityTracker, IndexedNode} from './identity-tracker';\nimport {Profiler, selectProfilerStrategy} from './profiler';\n\n/**\n *  Class to hook into directive forest.\n *\n *  Exposes latest directive forest state.\n *\n *  Delegates profiling to a Profiler instance.\n *  Delegates forest indexing to IdentityTracker Singleton\n */\nexport class DirectiveForestHooks {\n  private _tracker = IdentityTracker.getInstance();\n  private _forest: ComponentTreeNode[] = [];\n  private _indexedForest: IndexedNode[] = [];\n\n  profiler: Profiler = selectProfilerStrategy();\n\n  getDirectivePosition(dir: any): ElementPosition | undefined {\n    const result = this._tracker.getDirectivePosition(dir);\n    if (result === undefined) {\n      console.warn('Unable to find position of', dir);\n    }\n    return result;\n  }\n\n  getDirectiveId(dir: any): number | undefined {\n    const result = this._tracker.getDirectiveId(dir);\n    if (result === undefined) {\n      console.warn('Unable to find ID of', result);\n    }\n    return result;\n  }\n\n  getIndexedDirectiveForest(): IndexedNode[] {\n    return this._indexedForest;\n  }\n\n  getDirectiveForest(): ComponentTreeNode[] {\n    return this._forest;\n  }\n\n  initialize(): void {\n    this.indexForest();\n  }\n\n  indexForest(): void {\n    const {newNodes, removedNodes, indexedForest, directiveForest} = this._tracker.index();\n    this._indexedForest = indexedForest;\n    this._forest = directiveForest;\n    this.profiler.onIndexForest(newNodes, removedNodes);\n  }\n}\n", "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {LifecycleProfile} from 'protocol';\n\nimport {getDirectiveName} from '../highlighter';\n\nimport {DirectiveForestHooks} from './hooks';\n\nconst markName = (s: string, method: Method) => `🅰️ ${s}#${method}`;\n\nconst supportsPerformance =\n  globalThis.performance && typeof globalThis.performance.getEntriesByName === 'function';\n\ntype Method = keyof LifecycleProfile | 'changeDetection' | string;\n\nconst recordMark = (s: string, method: Method) => {\n  if (supportsPerformance) {\n    // tslint:disable-next-line:ban\n    performance.mark(`${markName(s, method)}_start`);\n  }\n};\n\nconst endMark = (nodeName: string, method: Method) => {\n  if (supportsPerformance) {\n    const name = markName(nodeName, method);\n    const start = `${name}_start`;\n    const end = `${name}_end`;\n    if (performance.getEntriesByName(start).length > 0) {\n      // tslint:disable-next-line:ban\n      performance.mark(end);\n      performance.measure(name, start, end);\n    }\n    performance.clearMarks(start);\n    performance.clearMarks(end);\n    performance.clearMeasures(name);\n  }\n};\n\nlet timingAPIFlag = false;\n\nexport const enableTimingAPI = () => (timingAPIFlag = true);\nexport const disableTimingAPI = () => (timingAPIFlag = false);\n\nconst timingAPIEnabled = () => timingAPIFlag;\n\nlet directiveForestHooks: DirectiveForestHooks;\n\nexport const initializeOrGetDirectiveForestHooks = (\n  depsForTestOnly: {\n    directiveForestHooks?: typeof DirectiveForestHooks;\n  } = {},\n) => {\n  // Allow for overriding the DirectiveForestHooks implementation for testing purposes.\n  if (depsForTestOnly.directiveForestHooks) {\n    directiveForestHooks = new depsForTestOnly.directiveForestHooks();\n  }\n\n  if (directiveForestHooks) {\n    return directiveForestHooks;\n  } else {\n    directiveForestHooks = new DirectiveForestHooks();\n  }\n\n  directiveForestHooks.profiler.subscribe({\n    onChangeDetectionStart(component: any): void {\n      if (!timingAPIEnabled()) {\n        return;\n      }\n      recordMark(getDirectiveName(component), 'changeDetection');\n    },\n    onChangeDetectionEnd(component: any): void {\n      if (!timingAPIEnabled()) {\n        return;\n      }\n      endMark(getDirectiveName(component), 'changeDetection');\n    },\n    onLifecycleHookStart(component: any, lifecyle: keyof LifecycleProfile): void {\n      if (!timingAPIEnabled()) {\n        return;\n      }\n      recordMark(getDirectiveName(component), lifecyle);\n    },\n    onLifecycleHookEnd(component: any, lifecyle: keyof LifecycleProfile): void {\n      if (!timingAPIEnabled()) {\n        return;\n      }\n      endMark(getDirectiveName(component), lifecyle);\n    },\n    onOutputStart(component: any, output: string): void {\n      if (!timingAPIEnabled()) {\n        return;\n      }\n      recordMark(getDirectiveName(component), output);\n    },\n    onOutputEnd(component: any, output: string): void {\n      if (!timingAPIEnabled()) {\n        return;\n      }\n      endMark(getDirectiveName(component), output);\n    },\n  });\n  directiveForestHooks.initialize();\n  return directiveForestHooks;\n};\n", "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ElementPosition, HydrationStatus} from 'protocol';\n\nimport {findNodeInForest} from '../component-tree';\nimport {\n  findComponentAndHost,\n  highlightHydrationElement,\n  highlightSelectedElement,\n  removeHydrationHighlights,\n  unHighlight,\n} from '../highlighter';\nimport {initializeOrGetDirectiveForestHooks} from '../hooks';\nimport {ComponentTreeNode} from '../interfaces';\n\ninterface Type<T> extends Function {\n  new (...args: any[]): T;\n}\nexport interface ComponentInspectorOptions {\n  onComponentEnter: (id: number) => void;\n  onComponentSelect: (id: number) => void;\n  onComponentLeave: () => void;\n}\n\nexport class ComponentInspector {\n  private _selectedComponent!: {component: Type<unknown>; host: HTMLElement | null};\n  private readonly _onComponentEnter;\n  private readonly _onComponentSelect;\n  private readonly _onComponentLeave;\n\n  constructor(\n    componentOptions: ComponentInspectorOptions = {\n      onComponentEnter: () => {},\n      onComponentLeave: () => {},\n      onComponentSelect: () => {},\n    },\n  ) {\n    this.bindMethods();\n    this._onComponentEnter = componentOptions.onComponentEnter;\n    this._onComponentSelect = componentOptions.onComponentSelect;\n    this._onComponentLeave = componentOptions.onComponentLeave;\n  }\n\n  startInspecting(): void {\n    window.addEventListener('mouseover', this.elementMouseOver, true);\n    window.addEventListener('click', this.elementClick, true);\n    window.addEventListener('mouseout', this.cancelEvent, true);\n  }\n\n  stopInspecting(): void {\n    window.removeEventListener('mouseover', this.elementMouseOver, true);\n    window.removeEventListener('click', this.elementClick, true);\n    window.removeEventListener('mouseout', this.cancelEvent, true);\n  }\n\n  elementClick(e: MouseEvent): void {\n    e.stopImmediatePropagation();\n    e.preventDefault();\n\n    if (this._selectedComponent.component && this._selectedComponent.host) {\n      this._onComponentSelect(\n        initializeOrGetDirectiveForestHooks().getDirectiveId(this._selectedComponent.component)!,\n      );\n    }\n  }\n\n  elementMouseOver(e: MouseEvent): void {\n    this.cancelEvent(e);\n\n    const el = e.target as HTMLElement;\n    if (el) {\n      this._selectedComponent = findComponentAndHost(el);\n    }\n\n    unHighlight();\n    if (this._selectedComponent.component && this._selectedComponent.host) {\n      highlightSelectedElement(this._selectedComponent.host);\n      this._onComponentEnter(\n        initializeOrGetDirectiveForestHooks().getDirectiveId(this._selectedComponent.component)!,\n      );\n    }\n  }\n\n  cancelEvent(e: MouseEvent): void {\n    e.stopImmediatePropagation();\n    e.preventDefault();\n    this._onComponentLeave();\n  }\n\n  bindMethods(): void {\n    this.startInspecting = this.startInspecting.bind(this);\n    this.stopInspecting = this.stopInspecting.bind(this);\n    this.elementMouseOver = this.elementMouseOver.bind(this);\n    this.elementClick = this.elementClick.bind(this);\n    this.cancelEvent = this.cancelEvent.bind(this);\n  }\n\n  highlightByPosition(position: ElementPosition): void {\n    const forest: ComponentTreeNode[] = initializeOrGetDirectiveForestHooks().getDirectiveForest();\n    const elementToHighlight: HTMLElement | null = findNodeInForest(position, forest);\n    if (elementToHighlight) {\n      highlightSelectedElement(elementToHighlight);\n    }\n  }\n\n  highlightHydrationNodes(): void {\n    const forest: ComponentTreeNode[] = initializeOrGetDirectiveForestHooks().getDirectiveForest();\n\n    // drop the root nodes, we don't want to highlight it\n    const forestWithoutRoots = forest.flatMap((rootNode) => rootNode.children);\n\n    const errorNodes = findErrorNodesForHydrationOverlay(forestWithoutRoots);\n\n    // We get the first level of hydrated nodes\n    // nested mismatched nodes nested in hydrated nodes aren't includes\n    const nodes = findNodesForHydrationOverlay(forestWithoutRoots);\n\n    // This ensures top level mismatched nodes are removed as we have a dedicated array\n    const otherNodes = nodes.filter(({status}) => status?.status !== 'mismatched');\n\n    for (const {node, status} of [...otherNodes, ...errorNodes]) {\n      highlightHydrationElement(node, status);\n    }\n  }\n\n  removeHydrationHighlights() {\n    removeHydrationHighlights();\n  }\n}\n\n/**\n * Returns the first level of hydrated nodes\n * Note: Mismatched nodes nested in hydrated nodes aren't included\n */\nfunction findNodesForHydrationOverlay(\n  forest: ComponentTreeNode[],\n): {node: Node; status: HydrationStatus}[] {\n  return forest.flatMap((node) => {\n    if (node?.hydration?.status) {\n      // We highlight first level\n      return {node: node.nativeElement!, status: node.hydration};\n    }\n    if (node.children.length) {\n      return findNodesForHydrationOverlay(node.children);\n    }\n    return [];\n  });\n}\n\nfunction findErrorNodesForHydrationOverlay(\n  forest: ComponentTreeNode[],\n): {node: Node; status: HydrationStatus}[] {\n  return forest.flatMap((node) => {\n    if (node?.hydration?.status === 'mismatched') {\n      // We highlight first level\n      return {node: node.nativeElement!, status: node.hydration};\n    }\n    if (node.children.length) {\n      return findNodesForHydrationOverlay(node.children);\n    }\n    return [];\n  });\n}\n", "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  DirectiveProfile,\n  ElementPosition,\n  ElementProfile,\n  LifecycleProfile,\n  ProfilerFrame,\n} from 'protocol';\n\nimport {getDirectiveName} from '../highlighter';\nimport {ComponentTreeNode} from '../interfaces';\nimport {isCustomElement, runOutsideAngular} from '../utils';\n\nimport {initializeOrGetDirectiveForestHooks} from '.';\nimport {DirectiveForestHooks} from './hooks';\nimport {Hooks} from './profiler';\n\nlet inProgress = false;\nlet inChangeDetection = false;\nlet eventMap: Map<any, DirectiveProfile>;\nlet frameDuration = 0;\nlet hooks: Partial<Hooks> = {};\n\nexport const start = (onFrame: (frame: ProfilerFrame) => void): void => {\n  if (inProgress) {\n    throw new Error('Recording already in progress');\n  }\n  eventMap = new Map<any, DirectiveProfile>();\n  inProgress = true;\n  hooks = getHooks(onFrame);\n  initializeOrGetDirectiveForestHooks().profiler.subscribe(hooks);\n};\n\nexport const stop = (): ProfilerFrame => {\n  const directiveForestHooks = initializeOrGetDirectiveForestHooks();\n  const result = flushBuffer(directiveForestHooks);\n  initializeOrGetDirectiveForestHooks().profiler.unsubscribe(hooks);\n  hooks = {};\n  inProgress = false;\n  return result;\n};\n\nconst startEvent = (map: Record<string, number>, directive: any, label: string) => {\n  const name = getDirectiveName(directive);\n  const key = `${name}#${label}`;\n  map[key] = performance.now();\n};\n\nconst getEventStart = (map: Record<string, number>, directive: any, label: string) => {\n  const name = getDirectiveName(directive);\n  const key = `${name}#${label}`;\n  return map[key];\n};\n\nconst getHooks = (onFrame: (frame: ProfilerFrame) => void): Partial<Hooks> => {\n  const timeStartMap: Record<string, number> = {};\n  return {\n    // We flush here because it's possible the current node to overwrite\n    // an existing removed node.\n    onCreate(\n      directive: any,\n      node: Node,\n      _: number,\n      isComponent: boolean,\n      position: ElementPosition,\n    ): void {\n      eventMap.set(directive, {\n        isElement: isCustomElement(node),\n        name: getDirectiveName(directive),\n        isComponent,\n        lifecycle: {},\n        outputs: {},\n      });\n    },\n    onChangeDetectionStart(component: any, node: Node): void {\n      startEvent(timeStartMap, component, 'changeDetection');\n      if (!inChangeDetection) {\n        inChangeDetection = true;\n        const source = getChangeDetectionSource();\n        runOutsideAngular(() => {\n          Promise.resolve().then(() => {\n            inChangeDetection = false;\n            onFrame(flushBuffer(initializeOrGetDirectiveForestHooks(), source));\n          });\n        });\n      }\n      if (!eventMap.has(component)) {\n        eventMap.set(component, {\n          isElement: isCustomElement(node),\n          name: getDirectiveName(component),\n          isComponent: true,\n          changeDetection: 0,\n          lifecycle: {},\n          outputs: {},\n        });\n      }\n    },\n    onChangeDetectionEnd(component: any): void {\n      const profile = eventMap.get(component);\n\n      if (profile) {\n        let current = profile.changeDetection;\n        if (current === undefined) {\n          current = 0;\n        }\n        const startTimestamp = getEventStart(timeStartMap, component, 'changeDetection');\n        if (startTimestamp === undefined) {\n          return;\n        }\n        const duration = performance.now() - startTimestamp;\n        profile.changeDetection = current + duration;\n        frameDuration += duration;\n      } else {\n        console.warn('Could not find profile for', component);\n      }\n    },\n    onDestroy(\n      directive: any,\n      node: Node,\n      _: number,\n      isComponent: boolean,\n      __: ElementPosition,\n    ): void {\n      // Make sure we reflect such directives in the report.\n      if (!eventMap.has(directive)) {\n        eventMap.set(directive, {\n          isElement: isComponent && isCustomElement(node),\n          name: getDirectiveName(directive),\n          isComponent,\n          lifecycle: {},\n          outputs: {},\n        });\n      }\n    },\n    onLifecycleHookStart(\n      directive: any,\n      hookName: keyof LifecycleProfile,\n      node: Node,\n      __: number,\n      isComponent: boolean,\n    ): void {\n      startEvent(timeStartMap, directive, hookName);\n      if (!eventMap.has(directive)) {\n        eventMap.set(directive, {\n          isElement: isCustomElement(node),\n          name: getDirectiveName(directive),\n          isComponent,\n          lifecycle: {},\n          outputs: {},\n        });\n      }\n    },\n    onLifecycleHookEnd(\n      directive: any,\n      hookName: keyof LifecycleProfile,\n      _: Node,\n      __: number,\n      ___: boolean,\n    ): void {\n      const dir = eventMap.get(directive);\n      const startTimestamp = getEventStart(timeStartMap, directive, hookName);\n      if (startTimestamp === undefined) {\n        return;\n      }\n      if (!dir) {\n        console.warn('Could not find directive in onLifecycleHook callback', directive, hookName);\n        return;\n      }\n      const duration = performance.now() - startTimestamp;\n      dir.lifecycle[hookName] = (dir.lifecycle[hookName] || 0) + duration;\n      frameDuration += duration;\n    },\n    onOutputStart(\n      componentOrDirective: any,\n      outputName: string,\n      node: Node,\n      isComponent: boolean,\n    ): void {\n      startEvent(timeStartMap, componentOrDirective, outputName);\n      if (!eventMap.has(componentOrDirective)) {\n        eventMap.set(componentOrDirective, {\n          isElement: isCustomElement(node),\n          name: getDirectiveName(componentOrDirective),\n          isComponent,\n          lifecycle: {},\n          outputs: {},\n        });\n      }\n    },\n    onOutputEnd(componentOrDirective: any, outputName: string): void {\n      const name = outputName;\n      const entry = eventMap.get(componentOrDirective);\n      const startTimestamp = getEventStart(timeStartMap, componentOrDirective, name);\n      if (startTimestamp === undefined) {\n        return;\n      }\n      if (!entry) {\n        console.warn(\n          'Could not find directive or component in onOutputEnd callback',\n          componentOrDirective,\n          outputName,\n        );\n        return;\n      }\n      const duration = performance.now() - startTimestamp;\n      entry.outputs[name] = (entry.outputs[name] || 0) + duration;\n      frameDuration += duration;\n    },\n  };\n};\n\nconst insertOrMerge = (lastFrame: ElementProfile, profile: DirectiveProfile) => {\n  let exists = false;\n  lastFrame.directives.forEach((d) => {\n    if (d.name === profile.name) {\n      exists = true;\n      let current = d.changeDetection;\n      if (current === undefined) {\n        current = 0;\n      }\n      d.changeDetection = current + (profile.changeDetection ?? 0);\n      for (const key of Object.keys(profile.lifecycle) as (keyof LifecycleProfile)[]) {\n        if (!d.lifecycle[key]) {\n          d.lifecycle[key] = 0;\n        }\n        d.lifecycle[key]! += profile.lifecycle[key]!;\n      }\n      for (const key of Object.keys(profile.outputs)) {\n        if (!d.outputs[key]) {\n          d.outputs[key] = 0;\n        }\n        d.outputs[key] += profile.outputs[key];\n      }\n    }\n  });\n  if (!exists) {\n    lastFrame.directives.push(profile);\n  }\n};\n\nconst insertElementProfile = (\n  frames: ElementProfile[],\n  position: ElementPosition,\n  profile?: DirectiveProfile,\n) => {\n  if (!profile) {\n    return;\n  }\n  const original = frames;\n  for (let i = 0; i < position.length - 1; i++) {\n    const pos = position[i];\n    if (!frames[pos]) {\n      // TODO(mgechev): consider how to ensure we don't hit this case\n      console.warn('Unable to find parent node for', profile, original);\n      return;\n    }\n    frames = frames[pos].children;\n  }\n  const lastIdx = position[position.length - 1];\n  let lastFrame: ElementProfile = {\n    children: [],\n    directives: [],\n  };\n  if (frames[lastIdx]) {\n    lastFrame = frames[lastIdx];\n  } else {\n    frames[lastIdx] = lastFrame;\n  }\n  insertOrMerge(lastFrame, profile);\n};\n\nconst prepareInitialFrame = (source: string, duration: number) => {\n  const frame: ProfilerFrame = {\n    source,\n    duration,\n    directives: [],\n  };\n  const directiveForestHooks = initializeOrGetDirectiveForestHooks();\n  const directiveForest = directiveForestHooks.getIndexedDirectiveForest();\n  const traverse = (node: ComponentTreeNode, children = frame.directives) => {\n    let position: ElementPosition | undefined;\n    if (node.component) {\n      position = directiveForestHooks.getDirectivePosition(node.component.instance);\n    } else {\n      position = directiveForestHooks.getDirectivePosition(node.directives[0].instance);\n    }\n    if (position === undefined) {\n      return;\n    }\n    const directives = node.directives.map((d) => {\n      return {\n        isComponent: false,\n        isElement: false,\n        name: getDirectiveName(d.instance),\n        outputs: {},\n        lifecycle: {},\n      };\n    });\n    if (node.component) {\n      directives.push({\n        isElement: node.component.isElement,\n        isComponent: true,\n        lifecycle: {},\n        outputs: {},\n        name: getDirectiveName(node.component.instance),\n      });\n    }\n    const result = {\n      children: [],\n      directives,\n    };\n    children[position[position.length - 1]] = result;\n    node.children.forEach((n) => traverse(n, result.children));\n  };\n  directiveForest.forEach((n) => traverse(n));\n  return frame;\n};\n\nconst flushBuffer = (directiveForestHooks: DirectiveForestHooks, source: string = '') => {\n  const items = Array.from(eventMap.keys());\n  const positions: ElementPosition[] = [];\n  const positionDirective = new Map<ElementPosition, any>();\n  items.forEach((dir) => {\n    const position = directiveForestHooks.getDirectivePosition(dir);\n    if (position === undefined) {\n      return;\n    }\n    positions.push(position);\n    positionDirective.set(position, dir);\n  });\n  positions.sort(lexicographicOrder);\n\n  const result = prepareInitialFrame(source, frameDuration);\n  frameDuration = 0;\n\n  positions.forEach((position) => {\n    const dir = positionDirective.get(position);\n    insertElementProfile(result.directives, position, eventMap.get(dir));\n  });\n  eventMap = new Map<any, DirectiveProfile>();\n  return result;\n};\n\nconst getChangeDetectionSource = () => {\n  const zone = (window as any).Zone;\n  if (!zone || !zone.currentTask) {\n    return '';\n  }\n  return zone.currentTask.source;\n};\n\nconst lexicographicOrder = (a: ElementPosition, b: ElementPosition) => {\n  if (a.length < b.length) {\n    return -1;\n  }\n  if (a.length > b.length) {\n    return 1;\n  }\n  for (let i = 0; i < a.length; i++) {\n    if (a[i] < b[i]) {\n      return -1;\n    }\n    if (a[i] > b[i]) {\n      return 1;\n    }\n  }\n  return 0;\n};\n", "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ElementPosition} from 'protocol';\nimport {arrayEquals} from 'shared-utils';\n\nimport {ComponentTreeNode} from './interfaces';\n\ninterface ConsoleReferenceNode {\n  node: ComponentTreeNode | null;\n  position: ElementPosition;\n}\n\nconst CONSOLE_REFERENCE_PREFIX = '$ng';\nconst CAPACITY = 5;\n\nconst nodesForConsoleReference: ConsoleReferenceNode[] = [];\n\nexport const setConsoleReference = (referenceNode: ConsoleReferenceNode) => {\n  if (referenceNode.node === null) {\n    return;\n  }\n  _setConsoleReference(referenceNode);\n};\n\nconst _setConsoleReference = (referenceNode: ConsoleReferenceNode) => {\n  prepareCurrentReferencesForInsertion(referenceNode);\n  nodesForConsoleReference.unshift(referenceNode);\n  assignConsoleReferencesFrom(nodesForConsoleReference);\n};\n\nconst prepareCurrentReferencesForInsertion = (referenceNode: ConsoleReferenceNode) => {\n  const foundIndex = nodesForConsoleReference.findIndex((nodeToLookFor) =>\n    arrayEquals(nodeToLookFor.position, referenceNode.position),\n  );\n  if (foundIndex !== -1) {\n    nodesForConsoleReference.splice(foundIndex, 1);\n  } else if (nodesForConsoleReference.length === CAPACITY) {\n    nodesForConsoleReference.pop();\n  }\n};\n\nconst assignConsoleReferencesFrom = (referenceNodes: ConsoleReferenceNode[]) => {\n  referenceNodes.forEach((referenceNode, index) =>\n    setDirectiveKey(referenceNode.node, getConsoleReferenceWithIndexOf(index)),\n  );\n};\n\nconst setDirectiveKey = (node: ComponentTreeNode | null, key: string) => {\n  Object.defineProperty(window, key, {\n    get: () => {\n      if (node?.component) {\n        return node.component.instance;\n      }\n      if (node?.nativeElement) {\n        return node.nativeElement;\n      }\n      return node;\n    },\n    configurable: true,\n  });\n};\n\nconst getConsoleReferenceWithIndexOf = (consoleReferenceIndex: number) =>\n  `${CONSOLE_REFERENCE_PREFIX}${consoleReferenceIndex}`;\n", "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {\n  ComponentExplorerViewQuery,\n  ComponentType,\n  DevToolsNode,\n  DirectivePosition,\n  DirectiveType,\n  ElementPosition,\n  Events,\n  MessageBus,\n  ProfilerFrame,\n  SerializedInjector,\n  SerializedProviderRecord,\n} from 'protocol';\nimport {debounceTime} from 'rxjs/operators';\nimport {\n  appIsAngularInDevMode,\n  appIsAngularIvy,\n  appIsSupportedAngularVersion,\n  getAngularVersion,\n  isHydrationEnabled,\n} from 'shared-utils';\n\nimport {ComponentInspector} from './component-inspector/component-inspector';\nimport {\n  getElementInjectorElement,\n  getInjectorFromElementNode,\n  getInjectorProviders,\n  getInjectorResolutionPath,\n  getLatestComponentState,\n  idToInjector,\n  injectorsSeen,\n  isElementInjector,\n  nodeInjectorToResolutionPath,\n  queryDirectiveForest,\n  serializeProviderRecord,\n  serializeResolutionPath,\n  updateState,\n} from './component-tree';\nimport {unHighlight} from './highlighter';\nimport {disableTimingAPI, enableTimingAPI, initializeOrGetDirectiveForestHooks} from './hooks';\nimport {start as startProfiling, stop as stopProfiling} from './hooks/capture';\nimport {ComponentTreeNode} from './interfaces';\nimport {ngDebugDependencyInjectionApiIsSupported} from './ng-debug-api/ng-debug-api';\nimport {setConsoleReference} from './set-console-reference';\nimport {serializeDirectiveState} from './state-serializer/state-serializer';\nimport {runOutsideAngular} from './utils';\nimport {DirectiveForestHooks} from './hooks/hooks';\n\nexport const subscribeToClientEvents = (\n  messageBus: MessageBus<Events>,\n  depsForTestOnly?: {\n    directiveForestHooks?: typeof DirectiveForestHooks;\n  },\n): void => {\n  messageBus.on('shutdown', shutdownCallback(messageBus));\n\n  messageBus.on(\n    'getLatestComponentExplorerView',\n    getLatestComponentExplorerViewCallback(messageBus),\n  );\n\n  messageBus.on('queryNgAvailability', checkForAngularCallback(messageBus));\n\n  messageBus.on('startProfiling', startProfilingCallback(messageBus));\n  messageBus.on('stopProfiling', stopProfilingCallback(messageBus));\n\n  messageBus.on('setSelectedComponent', selectedComponentCallback);\n\n  messageBus.on('getNestedProperties', getNestedPropertiesCallback(messageBus));\n  messageBus.on('getRoutes', getRoutesCallback(messageBus));\n\n  messageBus.on('updateState', updateState);\n\n  messageBus.on('enableTimingAPI', enableTimingAPI);\n  messageBus.on('disableTimingAPI', disableTimingAPI);\n\n  messageBus.on('getInjectorProviders', getInjectorProvidersCallback(messageBus));\n\n  messageBus.on('logProvider', logProvider);\n\n  messageBus.on('log', ({message, level}) => {\n    console[level](`[Angular DevTools]: ${message}`);\n  });\n\n  if (appIsAngularInDevMode() && appIsSupportedAngularVersion() && appIsAngularIvy()) {\n    setupInspector(messageBus);\n    // Often websites have `scroll` event listener which triggers\n    // Angular's change detection. We don't want to constantly send\n    // update requests, instead we want to request an update at most\n    // once every 250ms\n    runOutsideAngular(() => {\n      initializeOrGetDirectiveForestHooks(depsForTestOnly)\n        .profiler.changeDetection$.pipe(debounceTime(250))\n        .subscribe(() => messageBus.emit('componentTreeDirty'));\n    });\n  }\n};\n\n//\n// Callback Definitions\n//\n\nconst shutdownCallback = (messageBus: MessageBus<Events>) => () => {\n  messageBus.destroy();\n};\n\nconst getLatestComponentExplorerViewCallback =\n  (messageBus: MessageBus<Events>) => (query?: ComponentExplorerViewQuery) => {\n    // We want to force re-indexing of the component tree.\n    // Pressing the refresh button means the user saw stuck UI.\n\n    initializeOrGetDirectiveForestHooks().indexForest();\n\n    const forest = prepareForestForSerialization(\n      initializeOrGetDirectiveForestHooks().getIndexedDirectiveForest(),\n      ngDebugDependencyInjectionApiIsSupported(),\n    );\n\n    // cleanup injector id mappings\n    for (const injectorId of idToInjector.keys()) {\n      if (!injectorsSeen.has(injectorId)) {\n        const injector = idToInjector.get(injectorId)!;\n        if (isElementInjector(injector)) {\n          const element = getElementInjectorElement(injector);\n          if (element) {\n            nodeInjectorToResolutionPath.delete(element);\n          }\n        }\n\n        idToInjector.delete(injectorId);\n      }\n    }\n    injectorsSeen.clear();\n\n    if (!query) {\n      messageBus.emit('latestComponentExplorerView', [{forest}]);\n      return;\n    }\n\n    const state = getLatestComponentState(\n      query,\n      initializeOrGetDirectiveForestHooks().getDirectiveForest(),\n    );\n\n    if (state) {\n      const {directiveProperties} = state;\n      messageBus.emit('latestComponentExplorerView', [{forest, properties: directiveProperties}]);\n    }\n  };\n\nconst checkForAngularCallback = (messageBus: MessageBus<Events>) => () =>\n  checkForAngular(messageBus);\nconst getRoutesCallback = (messageBus: MessageBus<Events>) => () => getRoutes(messageBus);\n\nconst startProfilingCallback = (messageBus: MessageBus<Events>) => () =>\n  startProfiling((frame: ProfilerFrame) => {\n    messageBus.emit('sendProfilerChunk', [frame]);\n  });\n\nconst stopProfilingCallback = (messageBus: MessageBus<Events>) => () => {\n  messageBus.emit('profilerResults', [stopProfiling()]);\n};\n\nconst selectedComponentCallback = (position: ElementPosition) => {\n  const node = queryDirectiveForest(\n    position,\n    initializeOrGetDirectiveForestHooks().getIndexedDirectiveForest(),\n  );\n  setConsoleReference({node, position});\n};\n\nconst getNestedPropertiesCallback =\n  (messageBus: MessageBus<Events>) => (position: DirectivePosition, propPath: string[]) => {\n    const emitEmpty = () => messageBus.emit('nestedProperties', [position, {props: {}}, propPath]);\n    const node = queryDirectiveForest(\n      position.element,\n      initializeOrGetDirectiveForestHooks().getIndexedDirectiveForest(),\n    );\n    if (!node) {\n      return emitEmpty();\n    }\n    const current =\n      position.directive === undefined ? node.component : node.directives[position.directive];\n    if (!current) {\n      return emitEmpty();\n    }\n    let data = current.instance;\n    for (const prop of propPath) {\n      data = data[prop];\n      if (!data) {\n        console.error('Cannot access the properties', propPath, 'of', node);\n      }\n    }\n    messageBus.emit('nestedProperties', [\n      position,\n      {props: serializeDirectiveState(data)},\n      propPath,\n    ]);\n    return;\n  };\n\n//\n// Subscribe Helpers\n//\n\n// todo: parse router tree with framework APIs after they are developed\nconst getRoutes = (messageBus: MessageBus<Events>) => {\n  // Return empty router tree to disable tab.\n  messageBus.emit('updateRouterTree', [[]]);\n};\n\nconst checkForAngular = (messageBus: MessageBus<Events>): void => {\n  const ngVersion = getAngularVersion();\n  const appIsIvy = appIsAngularIvy();\n\n  if (!ngVersion) {\n    return;\n  }\n\n  if (appIsIvy && appIsAngularInDevMode() && appIsSupportedAngularVersion()) {\n    initializeOrGetDirectiveForestHooks();\n  }\n\n  messageBus.emit('ngAvailability', [\n    {\n      version: ngVersion.toString(),\n      devMode: appIsAngularInDevMode(),\n      ivy: appIsIvy,\n      hydration: isHydrationEnabled(),\n    },\n  ]);\n};\n\nconst setupInspector = (messageBus: MessageBus<Events>) => {\n  const inspector = new ComponentInspector({\n    onComponentEnter: (id: number) => {\n      messageBus.emit('highlightComponent', [id]);\n    },\n    onComponentLeave: () => {\n      messageBus.emit('removeComponentHighlight');\n    },\n    onComponentSelect: (id: number) => {\n      messageBus.emit('selectComponent', [id]);\n    },\n  });\n\n  messageBus.on('inspectorStart', inspector.startInspecting);\n  messageBus.on('inspectorEnd', inspector.stopInspecting);\n\n  messageBus.on('createHighlightOverlay', (position: ElementPosition) => {\n    inspector.highlightByPosition(position);\n  });\n  messageBus.on('removeHighlightOverlay', unHighlight);\n\n  messageBus.on('createHydrationOverlay', inspector.highlightHydrationNodes);\n  messageBus.on('removeHydrationOverlay', inspector.removeHydrationHighlights);\n};\n\nexport interface SerializableDirectiveInstanceType extends DirectiveType {\n  id: number;\n}\n\nexport interface SerializableComponentInstanceType extends ComponentType {\n  id: number;\n}\n\nexport interface SerializableComponentTreeNode\n  extends DevToolsNode<SerializableDirectiveInstanceType, SerializableComponentInstanceType> {\n  children: SerializableComponentTreeNode[];\n}\n\n// Here we drop properties to prepare the tree for serialization.\n// We don't need the component instance, so we just traverse the tree\n// and leave the component name.\nconst prepareForestForSerialization = (\n  roots: ComponentTreeNode[],\n  includeResolutionPath = false,\n): SerializableComponentTreeNode[] => {\n  const serializedNodes: SerializableComponentTreeNode[] = [];\n  for (const node of roots) {\n    const serializedNode: SerializableComponentTreeNode = {\n      element: node.element,\n      component: node.component\n        ? {\n            name: node.component.name,\n            isElement: node.component.isElement,\n            id: initializeOrGetDirectiveForestHooks().getDirectiveId(node.component.instance)!,\n          }\n        : null,\n      directives: node.directives.map((d) => ({\n        name: d.name,\n        id: initializeOrGetDirectiveForestHooks().getDirectiveId(d.instance)!,\n      })),\n      children: prepareForestForSerialization(node.children, includeResolutionPath),\n      hydration: node.hydration,\n    };\n    serializedNodes.push(serializedNode);\n\n    if (includeResolutionPath) {\n      serializedNode.resolutionPath = getNodeDIResolutionPath(node);\n    }\n  }\n\n  return serializedNodes;\n};\n\nfunction getNodeDIResolutionPath(node: ComponentTreeNode): SerializedInjector[] | undefined {\n  const nodeInjector = getInjectorFromElementNode(node.nativeElement!);\n  if (!nodeInjector) {\n    return [];\n  }\n  // There are legit cases where an angular node will have non-ElementInjector injectors.\n  // For example, components created with createComponent require the API consumer to\n  // pass in an element injector, else it sets the element injector of the component\n  // to the NullInjector\n  if (!isElementInjector(nodeInjector)) {\n    return [];\n  }\n\n  const element = getElementInjectorElement(nodeInjector);\n\n  if (!nodeInjectorToResolutionPath.has(element)) {\n    const resolutionPaths = getInjectorResolutionPath(nodeInjector);\n    nodeInjectorToResolutionPath.set(element, serializeResolutionPath(resolutionPaths));\n  }\n\n  const serializedPath = nodeInjectorToResolutionPath.get(element)!;\n  for (const injector of serializedPath) {\n    injectorsSeen.add(injector.id);\n  }\n\n  return serializedPath;\n}\n\nconst getInjectorProvidersCallback =\n  (messageBus: MessageBus<Events>) => (injector: SerializedInjector) => {\n    if (!idToInjector.has(injector.id)) {\n      return;\n    }\n\n    const providerRecords = getInjectorProviders(idToInjector.get(injector.id)!);\n    const allProviderRecords: SerializedProviderRecord[] = [];\n\n    const tokenToRecords: Map<any, SerializedProviderRecord[]> = new Map();\n\n    for (const [index, providerRecord] of providerRecords.entries()) {\n      const record = serializeProviderRecord(\n        providerRecord,\n        index,\n        injector.type === 'environment',\n      );\n\n      allProviderRecords.push(record);\n\n      const records = tokenToRecords.get(providerRecord.token) ?? [];\n      records.push(record);\n      tokenToRecords.set(providerRecord.token, records);\n    }\n\n    const serializedProviderRecords: SerializedProviderRecord[] = [];\n\n    for (const [token, records] of tokenToRecords.entries()) {\n      const multiRecords = records.filter((record) => record.multi);\n      const nonMultiRecords = records.filter((record) => !record.multi);\n\n      for (const record of nonMultiRecords) {\n        serializedProviderRecords.push(record);\n      }\n\n      const [firstMultiRecord] = multiRecords;\n      if (firstMultiRecord !== undefined) {\n        // All multi providers will have the same token, so we can just use the first one.\n        serializedProviderRecords.push({\n          token: firstMultiRecord.token,\n          type: 'multi',\n          multi: true,\n          // todo(aleksanderbodurri): implememnt way to differentiate multi providers that\n          // provided as viewProviders\n          isViewProvider: firstMultiRecord.isViewProvider,\n          index: records.map((record) => record.index as number),\n        });\n      }\n    }\n\n    messageBus.emit('latestInjectorProviders', [injector, serializedProviderRecords]);\n  };\n\nconst logProvider = (\n  serializedInjector: SerializedInjector,\n  serializedProvider: SerializedProviderRecord,\n): void => {\n  if (!idToInjector.has(serializedInjector.id)) {\n    return;\n  }\n\n  const injector = idToInjector.get(serializedInjector.id)!;\n\n  const providerRecords = getInjectorProviders(injector);\n\n  console.group(\n    `%c${serializedInjector.name}`,\n    `color: ${\n      serializedInjector.type === 'element' ? '#a7d5a9' : '#f05057'\n    }; font-size: 1.25rem; font-weight: bold;`,\n  );\n  // tslint:disable-next-line:no-console\n  console.log('injector: ', injector);\n\n  if (typeof serializedProvider.index === 'number') {\n    const provider = providerRecords[serializedProvider.index];\n\n    // tslint:disable-next-line:no-console\n    console.log('provider: ', provider);\n    // tslint:disable-next-line:no-console\n    console.log(`value: `, injector.get(provider.token, null, {optional: true}));\n  } else if (Array.isArray(serializedProvider.index)) {\n    const providers = serializedProvider.index.map((index) => providerRecords[index]);\n\n    // tslint:disable-next-line:no-console\n    console.log('providers: ', providers);\n    // tslint:disable-next-line:no-console\n    console.log(`value: `, injector.get(providers[0].token, null, {optional: true}));\n  }\n\n  console.groupEnd();\n};\n", "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Events, MessageBus} from 'protocol';\n\nimport {subscribeToClientEvents} from './client-event-subscribers';\n\nexport const initializeMessageBus = (messageBus: MessageBus<Events>) => {\n  subscribeToClientEvents(messageBus);\n};\n", "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {findNodeFromSerializedPosition} from 'ng-devtools-backend';\n\nimport {\n  buildDirectiveForest,\n  queryDirectiveForest,\n} from '../../../ng-devtools-backend/src/lib/component-tree';\n\nimport {ElementPosition} from 'protocol';\n\nexport const initializeExtendedWindowOperations = () => {\n  extendWindowOperations(globalThis, {inspectedApplication: chromeWindowExtensions});\n};\n\nconst extendWindowOperations = <T extends {}>(target: any, classImpl: T) => {\n  for (const key of Object.keys(classImpl)) {\n    if (target[key] != null) {\n      console.warn(`A window function or object named ${key} would be overwritten`);\n    }\n  }\n\n  Object.assign(target, classImpl);\n};\n\nconst chromeWindowExtensions = {\n  findConstructorByPosition: (\n    serializedId: string,\n    directiveIndex: number,\n  ): Element | undefined => {\n    const node = findNodeFromSerializedPosition(serializedId);\n    if (node === null) {\n      console.error(`Cannot find element associated with node ${serializedId}`);\n      return;\n    }\n    if (directiveIndex !== undefined) {\n      if (node.directives[directiveIndex]) {\n        return node.directives[directiveIndex].instance.constructor;\n      } else {\n        console.error(\n          `Could not find the directive in the current node at index ${directiveIndex}`,\n        );\n        return;\n      }\n    }\n    if (node.component) {\n      return node.component.instance.constructor;\n    } else {\n      console.error('This component has no instance and therefore no constructor');\n      return;\n    }\n  },\n  findDomElementByPosition: (serializedId: string): Node | undefined => {\n    const node = findNodeFromSerializedPosition(serializedId);\n    if (node === null) {\n      console.error(`Cannot find element associated with node ${serializedId}`);\n      return undefined;\n    }\n    return node.nativeElement;\n  },\n  findPropertyByPosition: (args: any): any => {\n    const {directivePosition, objectPath} = JSON.parse(args) as {\n      directivePosition: {element: ElementPosition; directive: number};\n      objectPath: string[];\n    };\n    const node = queryDirectiveForest(directivePosition.element, buildDirectiveForest());\n    if (node === null) {\n      console.error(`Cannot find element associated with node ${directivePosition}`);\n      return undefined;\n    }\n\n    const isDirective =\n      directivePosition.directive !== undefined &&\n      node.directives[directivePosition.directive] &&\n      typeof node.directives[directivePosition.directive] === 'object';\n    if (isDirective) {\n      return traverseDirective(node.directives[directivePosition.directive].instance, objectPath);\n    }\n    if (node.component) {\n      return traverseDirective(node.component.instance, objectPath);\n    }\n  },\n};\n\nconst traverseDirective = (dir: any, objectPath: string[]): any => {\n  for (const key of objectPath) {\n    if (!dir[key]) {\n      return;\n    }\n    dir = dir[key];\n  }\n  return dir;\n};\n", "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Events, MessageBus, Parameters} from 'protocol';\n\ntype AnyEventCallback<Ev> = <E extends keyof Ev>(topic: E, args: Parameters<Ev[E]>) => void;\n\ntype ListenerFn = (e: MessageEvent) => void;\n\nexport class SamePageMessageBus extends MessageBus<Events> {\n  private _listeners: ListenerFn[] = [];\n\n  constructor(\n    private _source: string,\n    private _destination: string,\n  ) {\n    super();\n  }\n\n  onAny(cb: AnyEventCallback<Events>): () => void {\n    const listener: ListenerFn = (e) => {\n      if (e.source !== window || !e.data || !e.data.topic || e.data.source !== this._destination) {\n        return;\n      }\n      cb(e.data.topic, e.data.args);\n    };\n    window.addEventListener('message', listener);\n    this._listeners.push(listener);\n    return () => {\n      this._listeners.splice(this._listeners.indexOf(listener), 1);\n      window.removeEventListener('message', listener);\n    };\n  }\n\n  override on<E extends keyof Events>(topic: E, cb: Events[E]): () => void {\n    const listener: ListenerFn = (e) => {\n      if (e.source !== window || !e.data || e.data.source !== this._destination || !e.data.topic) {\n        return;\n      }\n      if (e.data.topic === topic) {\n        (cb as any).apply(null, e.data.args);\n      }\n    };\n    window.addEventListener('message', listener);\n    this._listeners.push(listener);\n    return () => {\n      this._listeners.splice(this._listeners.indexOf(listener), 1);\n      window.removeEventListener('message', listener);\n    };\n  }\n\n  override once<E extends keyof Events>(topic: E, cb: Events[E]): void {\n    const listener: ListenerFn = (e) => {\n      if (e.source !== window || !e.data || e.data.source !== this._destination || !e.data.topic) {\n        return;\n      }\n      if (e.data.topic === topic) {\n        (cb as any).apply(null, e.data.args);\n      }\n      window.removeEventListener('message', listener);\n    };\n    window.addEventListener('message', listener);\n  }\n\n  override emit<E extends keyof Events>(topic: E, args?: Parameters<Events[E]>): boolean {\n    window.postMessage(\n      {\n        source: this._source,\n        topic,\n        args,\n        __ignore_ng_zone__: true,\n      },\n      '*',\n    );\n    return true;\n  }\n\n  override destroy(): void {\n    this._listeners.forEach((l) => window.removeEventListener('message', l));\n    this._listeners = [];\n  }\n}\n", "/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {initializeMessageBus} from 'ng-devtools-backend';\n\nimport {unHighlight} from '../../../ng-devtools-backend/src/lib/highlighter';\n\nimport {initializeExtendedWindowOperations} from './chrome-window-extensions';\nimport {SamePageMessageBus} from './same-page-message-bus';\n\nconst messageBus = new SamePageMessageBus(\n  `angular-devtools-backend-${location.href}`,\n  `angular-devtools-content-script-${location.href}`,\n);\n\nlet initialized = false;\nmessageBus.on('handshake', () => {\n  if (initialized) {\n    return;\n  }\n  initialized = true;\n  initializeMessageBus(messageBus);\n  initializeExtendedWindowOperations();\n\n  let inspectorRunning = false;\n  messageBus.on('inspectorStart', () => {\n    inspectorRunning = true;\n  });\n\n  messageBus.on('inspectorEnd', () => {\n    inspectorRunning = false;\n  });\n\n  // handles case when mouse leaves chrome extension too quickly. unHighlight() is not a very\n  // expensive function and has an if check so it's DOM api call is not called more than necessary\n  document.addEventListener(\n    'mousemove',\n    () => {\n      if (!inspectorRunning) {\n        unHighlight();\n      }\n    },\n    false,\n  );\n\n  messageBus.emit('backendReady');\n});\n"],
  "mappings": "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",
  "names": ["exports", "module", "SemVer", "debug", "process", "env", "NODE_DEBUG", "test", "args", "Array", "prototype", "slice", "call", "arguments", "unshift", "console", "log", "apply", "SEMVER_SPEC_VERSION", "MAX_LENGTH", "MAX_SAFE_INTEGER", "Number", "MAX_SAFE_COMPONENT_LENGTH", "MAX_SAFE_BUILD_LENGTH", "re", "safeRe", "src", "R", "LETTERDASHNUMBER", "safeRegexReplacements", "makeSafeRe", "value", "i", "length", "token", "max", "split", "join", "NUMERICIDENTIFIER", "NUMERICIDENTIFIERLOOSE", "NONNUMERICIDENTIFIER", "MAINVERSION", "MAINVERSIONLOOSE", "PRERELEASEIDENTIFIER", "PRERELEASEIDENTIFIERLOOSE", "PRERELEASE", "PRERELEASELOOSE", "BUILDIDENTIFIER", "BUILD", "FULL", "FULLPLAIN", "LOOSEPLAIN", "LOOSE", "GTLT", "XRANGEIDENTIFIERLOOSE", "XRANGEIDENTIFIER", "XRANGEPLAIN", "XRANGEPLAINLOOSE", "XRANGE", "XRANGELOOSE", "COERCE", "LONETILDE", "TILDETRIM", "RegExp", "tildeTrimReplace", "TILDE", "TILDELOOSE", "LONECARET", "CARETTRIM", "caretTrimReplace", "CARET", "CARETLOOSE", "COMPARATORLOOSE", "COMPARATOR", "COMPARATORTRIM", "comparatorTrimReplace", "HYPHENRANGE", "HYPHENRANGELOOSE", "STAR", "parse", "version", "options", "loose", "includePrerelease", "r", "valid", "v", "clean", "s", "trim", "replace", "TypeError", "m", "match", "raw", "major", "minor", "patch", "prerelease", "map", "id", "num", "build", "format", "toString", "compare", "other", "compareMain", "comparePre", "compareIdentifiers", "a", "b", "undefined", "inc", "release", "identifier", "push", "isNaN", "Error", "diff", "version1", "version2", "eq", "v1", "v2", "prefix", "defaultResult", "key", "numeric", "anum", "bnum", "rcompareIdentifiers", "compareLoose", "rcompare", "sort", "list", "rsort", "gt", "lt", "neq", "gte", "lte", "cmp", "op", "Comparator", "comp", "semver", "ANY", "operator", "intersects", "rangeTmp", "Range", "satisfies", "sameDirectionIncreasing", "sameDirectionDecreasing", "sameSemVer", "differentDirectionsInclusive", "oppositeDirectionsLessThan", "oppositeDirectionsGreaterThan", "range", "set", "parseRange", "filter", "c", "comps", "hr", "hyphenReplace", "compRe", "parseComparator", "some", "thisComparators", "every", "thisComparator", "rangeComparators", "rangeComparator", "toComparators", "replaceCarets", "replaceTildes", "replaceXRanges", "replaceStars", "isX", "toLowerCase", "replaceTilde", "_", "M", "p", "pr", "ret", "replaceCaret", "replaceXRange", "gtlt", "xM", "xm", "xp", "anyX", "$0", "from", "fM", "fm", "fp", "fpr", "fb", "to", "tM", "tm", "tp", "tpr", "tb", "testSet", "allowed", "maxSatisfying", "versions", "maxSV", "rangeObj", "forEach", "minSatisfying", "min", "minSV", "minVersion", "minver", "comparators", "comparator", "compver", "validRange", "ltr", "outside", "gtr", "hilo", "gtfn", "ltefn", "ltfn", "ecomp", "high", "low", "parsed", "r1", "r2", "coerce", "semver", "require", "exports", "SemVerDSL", "target", "lastPredicate", "createBoundContext", "Object", "create", "else", "value", "callback", "elseIf", "get", "dsl", "gte", "version", "predicate", "lte", "gt", "lt", "eq", "neq", "between", "v1", "v2", "isFunction", "value", "hasLift", "source", "isFunction", "lift", "operate", "init", "liftedSource", "err", "error", "TypeError", "createErrorClass", "createImpl", "ctorFunc", "instance", "Error", "call", "stack", "prototype", "Object", "create", "constructor", "UnsubscriptionError", "createErrorClass", "_super", "errors", "message", "length", "map", "err", "i", "toString", "join", "name", "arrRemove", "arr", "item", "index", "indexOf", "splice", "Subscription", "constructor", "initialTeardown", "closed", "_parentage", "_finalizers", "unsubscribe", "errors", "Array", "isArray", "parent", "remove", "initialFinalizer", "isFunction", "e", "UnsubscriptionError", "finalizer", "execFinalizer", "err", "push", "add", "teardown", "_hasParent", "_addParent", "_a", "includes", "_removeParent", "arrRemove", "EMPTY", "empty", "EMPTY_SUBSCRIPTION", "isSubscription", "value", "config", "onUnhandledError", "onStoppedNotification", "Promise", "undefined", "useDeprecatedSynchronousErrorHandling", "useDeprecatedNextContext", "timeoutProvider", "setTimeout", "handler", "timeout", "args", "delegate", "clearTimeout", "handle", "undefined", "reportUnhandledError", "err", "timeoutProvider", "setTimeout", "onUnhandledError", "config", "noop", "COMPLETE_NOTIFICATION", "createNotification", "undefined", "errorNotification", "error", "nextNotification", "value", "kind", "context", "errorContext", "cb", "config", "useDeprecatedSynchronousErrorHandling", "isRoot", "errorThrown", "error", "captureError", "err", "Subscriber", "Subscription", "constructor", "destination", "isStopped", "isSubscription", "add", "EMPTY_OBSERVER", "create", "next", "error", "complete", "SafeSubscriber", "value", "handleStoppedNotification", "nextNotification", "_next", "err", "errorNotification", "_error", "COMPLETE_NOTIFICATION", "_complete", "unsubscribe", "closed", "_bind", "Function", "prototype", "bind", "fn", "thisArg", "call", "ConsumerObserver", "partialObserver", "handleUnhandledError", "observerOrNext", "isFunction", "undefined", "context", "config", "useDeprecatedNextContext", "Object", "useDeprecatedSynchronousErrorHandling", "captureError", "reportUnhandledError", "defaultErrorHandler", "notification", "subscriber", "onStoppedNotification", "timeoutProvider", "setTimeout", "noop", "observable", "Symbol", "identity", "x", "pipeFromArray", "fns", "length", "identity", "input", "reduce", "prev", "fn", "Observable", "constructor", "subscribe", "_subscribe", "lift", "operator", "observable", "source", "observerOrNext", "error", "complete", "subscriber", "isSubscriber", "SafeSubscriber", "errorContext", "add", "call", "_trySubscribe", "sink", "err", "forEach", "next", "promiseCtor", "getPromiseCtor", "resolve", "reject", "value", "unsubscribe", "_a", "Symbol_observable", "pipe", "operations", "pipeFromArray", "toPromise", "x", "create", "config", "Promise", "isObserver", "isFunction", "Subscriber", "isSubscription", "createOperatorSubscriber", "destination", "onNext", "onComplete", "onError", "onFinalize", "OperatorSubscriber", "Subscriber", "constructor", "shouldUnsubscribe", "_next", "value", "err", "error", "_error", "unsubscribe", "_complete", "closed", "_a", "call", "Action", "Subscription", "constructor", "scheduler", "work", "schedule", "state", "delay", "intervalProvider", "setInterval", "handler", "timeout", "args", "delegate", "clearInterval", "handle", "undefined", "AsyncAction", "Action", "constructor", "scheduler", "work", "pending", "schedule", "state", "delay", "closed", "id", "recycleAsyncId", "_a", "requestAsyncId", "_id", "intervalProvider", "setInterval", "flush", "bind", "_scheduler", "clearInterval", "execute", "Error", "error", "_execute", "_delay", "errored", "errorValue", "e", "unsubscribe", "actions", "arrRemove", "dateTimestampProvider", "now", "delegate", "Date", "undefined", "Scheduler", "constructor", "schedulerActionCtor", "now", "schedule", "work", "delay", "state", "dateTimestampProvider", "AsyncScheduler", "Scheduler", "constructor", "SchedulerAction", "now", "actions", "_active", "flush", "action", "push", "error", "execute", "state", "delay", "shift", "unsubscribe", "asyncScheduler", "AsyncScheduler", "AsyncAction", "ObjectUnsubscribedError", "createErrorClass", "_super", "name", "message", "Subject", "Observable", "constructor", "closed", "currentObservers", "observers", "isStopped", "hasError", "thrownError", "lift", "operator", "subject", "AnonymousSubject", "_throwIfClosed", "ObjectUnsubscribedError", "next", "value", "errorContext", "Array", "from", "observer", "error", "err", "length", "shift", "complete", "unsubscribe", "observed", "_a", "_trySubscribe", "subscriber", "_subscribe", "_checkFinalizedStatuses", "_innerSubscribe", "EMPTY_SUBSCRIPTION", "push", "Subscription", "arrRemove", "asObservable", "observable", "source", "create", "destination", "_b", "call", "subscribe", "debounceTime", "dueTime", "scheduler", "asyncScheduler", "operate", "source", "subscriber", "activeTask", "lastValue", "lastTime", "emit", "unsubscribe", "value", "next", "emitWhenIdle", "targetTime", "now", "schedule", "undefined", "add", "subscribe", "createOperatorSubscriber", "complete", "arrayEquals", "a", "b", "length", "equal", "i", "appIsAngularInDevMode", "appIsAngular", "appHasGlobalNgDebugObject", "appIsAngularIvy", "window", "document", "querySelector", "__ngContext__", "getAngularVersion", "appIsSupportedAngularVersion", "version", "major", "parseInt", "toString", "split", "ng", "getComponent", "probe", "el", "getAttribute", "isHydrationEnabled", "Array", "from", "querySelectorAll", "some", "rootNode", "__ngDebugHydrationInfo__", "PropType", "PropertyQueryTypes", "MessageBus", "import_semver_dsl", "hydrationOverlayItems", "selectedElementOverlay", "DEV_TOOLS_HIGHLIGHT_NODE_ID", "OVERLAY_CONTENT_MARGIN", "MINIMAL_OVERLAY_CONTENT_SIZE", "width", "height", "COLORS", "blue", "red", "grey", "HYDRATION_SVG", "HYDRATION_SKIPPED_SVG", "HYDRATION_ERROR_SVG", "createOverlay", "color", "overlay", "document", "createElement", "className", "style", "backgroundColor", "toCSSColor", "position", "zIndex", "pointerEvents", "display", "borderRadius", "id", "overlayContent", "fontFamily", "fontSize", "padding", "appendChild", "findComponentAndHost", "el", "component", "host", "HTMLElement", "ng", "getComponent", "parentElement", "getDirectiveName", "dir", "constructor", "name", "highlightSelectedElement", "addHighlightForElement", "highlightHydrationElement", "status", "push", "unHighlight", "body", "removeChild", "removeHydrationHighlights", "forEach", "inDoc", "node", "doc", "ownerDocument", "documentElement", "parent", "parentNode", "nodeType", "contains", "overlayType", "cmp", "rect", "getComponentRect", "content", "componentName", "svg", "createOverlaySvgElement", "middleText", "createTextNode", "pre", "innerText", "post", "showOverlay", "getBoundingClientRect", "dimensions", "labelPosition", "top", "left", "positionOverlayContent", "replaceChildren", "length", "child", "innerWidth", "viewportWidth", "innerHeight", "viewportHeight", "window", "yOffset", "yOffsetValue", "right", "bottom", "Math", "max", "green", "alpha", "type", "icon", "Error", "DOMParser", "parseFromString", "childNodes", "fill", "ngDebug", "window", "ng", "runOutsideAngular", "f", "w", "Zone", "current", "_name", "run", "parent", "_parent", "isCustomElement", "node", "customElements", "HTMLElement", "tagName", "toLowerCase", "get", "ngDebugApiIsSupported", "api", "ngDebug", "isSignal", "prop", "window", "ng", "unwrapSignal", "s", "versionElement", "document", "querySelector", "versionRe", "defaultVersion", "version", "getAttribute", "match", "VERSION", "HEADER_OFFSET", "latest", "SemVerDSL", "VERSION", "gte", "eq", "TYPE", "ELEMENT", "LVIEW_TVIEW", "isLContainer", "value", "Array", "isArray", "isLView", "METADATA_PROPERTY_NAME", "getLViewFromDirectiveOrElementInstance", "dir", "context", "lView", "getDirectiveHostElement", "ctx", "components", "length", "LTreeStrategy", "supports", "element", "__ngContext__", "_getNode", "data", "idx", "directives", "component", "tNode", "node", "tagName", "nodeName", "toLowerCase", "nativeElement", "children", "hydration", "i", "directiveStart", "directiveEnd", "instance", "dirMeta", "template", "name", "isElement", "isCustomElement", "push", "getDirectiveName", "_extract", "lViewOrLContainer", "nodes", "tView", "lViewItem", "Node", "build", "rootLView", "ngDebugClient", "window", "ng", "ngDebugApiIsSupported", "api", "ngDebugDependencyInjectionApiIsSupported", "extractViewTree", "domNode", "result", "getComponent", "getDirectives", "directives", "length", "Element", "componentTreeNode", "children", "component", "map", "dir", "instance", "name", "constructor", "element", "nodeName", "toLowerCase", "nativeElement", "hydration", "hydrationStatus", "push", "isElement", "isCustomElement", "childNodes", "forEach", "node", "__ngDebugHydrationInfo__", "status", "expectedNodeDetails", "actualNodeDetails", "RTreeStrategy", "supports", "every", "method", "ngDebugClient", "build", "parentElement", "strategies", "RTreeStrategy", "LTreeStrategy", "strategy", "selectStrategy", "element", "s", "supports", "buildDirectiveTree", "build", "console", "error", "getKeys", "obj", "unwrapSignal", "properties", "Object", "getOwnPropertyNames", "prototypeMembers", "getOwnPropertyDescriptors", "getPrototypeOf", "ignoreList", "gettersAndSetters", "keys", "filter", "methodName", "includes", "targetMethod", "get", "set", "concat", "getDescriptor", "instance", "propName", "getOwnPropertyDescriptor", "commonTypes", "boolean", "PropType", "Boolean", "bigint", "BigInt", "function", "Function", "number", "Number", "string", "String", "symbol", "Symbol", "getPropType", "prop", "isSignal", "undefined", "Undefined", "Null", "HTMLElement", "HTMLNode", "type", "Array", "isArray", "Set", "Map", "Object", "prototype", "toString", "call", "Date", "Node", "Unknown", "METADATA_PROPERTY_NAME", "serializable", "Set", "PropType", "Boolean", "String", "Null", "Number", "Object", "Undefined", "Unknown", "typeToDescriptorPreview", "Array", "prop", "length", "size", "Map", "BigInt", "truncate", "toString", "Function", "name", "HTMLNode", "constructor", "_", "parseInt", "getKeys", "Symbol", "symbol", "description", "Date", "toISOString", "ignoreList", "shallowPropTypeToTreeMetaData", "editable", "expandable", "isEditable", "descriptor", "propName", "propData", "isGetterOrSetter", "containerType", "writable", "type", "set", "get", "getPreview", "createShallowSerializedDescriptor", "instance", "isReadonly", "getDescriptor", "getterOrSetter", "shallowSerializedDescriptor", "preview", "undefined", "has", "value", "unwrapSignal", "createLevelSerializedDescriptor", "levelOptions", "continuation", "levelSerializedDescriptor", "level", "currentLevel", "getLevelDescriptorValue", "createNestedSerializedDescriptor", "nodes", "nestedSerializer", "nestedSerializedDescriptor", "getNestedDescriptorValue", "map", "nestedProp", "children", "reduce", "accumulator", "hasOwnProperty", "isSignal", "idx", "str", "max", "substring", "METADATA_PROPERTY_NAME", "ignoreList", "Set", "MAX_LEVEL", "nestedSerializer", "instance", "propName", "nodes", "isReadonly", "currentLevel", "level", "unwrapSignal", "serializableInstance", "propData", "prop", "type", "getPropType", "containerType", "getContainerType", "levelSerializer", "continuation", "nestedLevel", "_", "nodeChildren", "find", "v", "name", "children", "PropType", "Array", "Object", "createNestedSerializedDescriptor", "createShallowSerializedDescriptor", "createLevelSerializedDescriptor", "serializeDirectiveState", "result", "value", "isSignal", "getKeys", "forEach", "has", "deeplySerializeSelectedProperties", "props", "childrenProps", "isWritableSignal", "s", "ChangeDetectionStrategy", "injectorToId", "WeakMap", "nodeInjectorToResolutionPath", "idToInjector", "Map", "injectorsSeen", "Set", "injectorId", "getInjectorId", "getInjectorMetadata", "injector", "ngDebugClient", "\u0275getInjectorMetadata", "getInjectorResolutionPath", "ngDebugApiIsSupported", "\u0275getInjectorResolutionPath", "getInjectorFromElementNode", "element", "getInjector", "getDirectivesFromElement", "component", "Element", "getComponent", "directives", "getDirectives", "getLatestComponentState", "query", "directiveForest", "buildDirectiveForest", "node", "queryDirectiveForest", "selectedElement", "directiveProperties", "nativeElement", "injectors", "resolutionPathWithProviders", "ngDebugDependencyInjectionApiIsSupported", "map", "providers", "getInjectorProviders", "populateResultSet", "dir", "instance", "name", "metadata", "getDirectiveMetadata", "dependencies", "getDependenciesForDirective", "constructor", "propertyQuery", "type", "PropertyQueryTypes", "All", "props", "serializeDirectiveState", "Specified", "deeplySerializeSelectedProperties", "properties", "forEach", "serializeElementInjectorWithId", "id", "getElementInjectorElement", "has", "set", "get", "add", "serializedInjector", "serializeInjector", "serializeInjectorWithId", "isElementInjector", "serializeEnvironmentInjectorWithId", "getMetadata", "inputs", "outputs", "encapsulation", "onPush", "changeDetection", "OnPush", "safelyGrabMetadata", "key", "\u0275cmp", "\u0275dir", "console", "warn", "isNullInjector", "\u0275getInjectorProviders", "resolutionPath", "directive", "\u0275getDependenciesFromInjectable", "serializedInjectedServices", "position", "dependency", "providedIn", "foundInjectorIndex", "findIndex", "foundProvider", "find", "provider", "token", "dependencyResolutionPath", "slice", "importPath", "valueToLabel", "isInjectionToken", "push", "toString", "value", "flags", "stripUnderscore", "str", "startsWith", "error", "length", "source", "elementToDirectiveNames", "scopes", "serializeProviderRecord", "providerRecord", "index", "hasImportPath", "multi", "useClass", "undefined", "useValue", "useFactory", "useExisting", "serializedProvider", "isViewProvider", "filter", "elementInjector", "Error", "getRoots", "roots", "Array", "from", "document", "documentElement", "querySelectorAll", "isTopLevel", "element", "parent", "parentElement", "hasAttribute", "filter", "buildDirectiveForest", "prototype", "concat", "apply", "map", "buildDirectiveTree", "queryDirectiveForest", "position", "forest", "length", "node", "i", "children", "findNodeInForest", "foundComponent", "nativeElement", "findNodeFromSerializedPosition", "serializedPosition", "split", "index", "parseInt", "updateState", "updatedStateData", "ng", "ngDebugClient", "directiveId", "console", "warn", "directive", "undefined", "directives", "instance", "mutateComponentOrDirective", "applyChanges", "getOwningComponent", "component", "comp", "compOrDirective", "valueKey", "keyPath", "pop", "parentObjectOfValueToUpdate", "forEach", "key", "isSignal", "set", "newValue", "serializeResolutionPath", "resolutionPath", "serializedResolutionPath", "injector", "serializedInjectorWithId", "isElementInjector", "serializeElementInjectorWithId", "serializeEnvironmentInjectorWithId", "push", "IdentityTracker", "_instance", "_directiveIdCounter", "_currentDirectivePosition", "Map", "_currentDirectiveId", "isComponent", "constructor", "getInstance", "getDirectivePosition", "dir", "get", "getDirectiveId", "hasDirective", "has", "index", "directiveForest", "buildDirectiveForest", "indexedForest", "indexForest", "newNodes", "removedNodes", "allNodes", "Set", "forEach", "root", "_index", "_", "push", "directive", "node", "parent", "component", "add", "instance", "set", "_indexNode", "position", "directives", "children", "child", "destroy", "indexTree", "idx", "parentPosition", "concat", "element", "map", "d", "n", "i", "nativeElement", "hydration", "forest", "Profiler", "_inChangeDetection", "changeDetection$", "Subject", "_hooks", "constructor", "config", "push", "subscribe", "unsubscribe", "splice", "indexOf", "_onCreate", "_", "__", "id", "___", "position", "undefined", "_invokeCallback", "arguments", "_onDestroy", "_onChangeDetectionStart", "_onChangeDetectionEnd", "_onLifecycleHookStart", "____", "_onLifecycleHookEnd", "_onOutputStart", "_onOutputEnd", "name", "args", "forEach", "cb", "apply", "hookNames", "hookMethodNames", "Set", "map", "hook", "getLifeCycleName", "obj", "fn", "proto", "Object", "getPrototypeOf", "keys", "getOwnPropertyNames", "propName", "has", "fnName", "hookName", "NgProfiler", "Profiler", "_tracker", "IdentityTracker", "getInstance", "_callbacks", "_lastDirectiveInstance", "constructor", "config", "_setProfilerCallback", "event", "instanceOrLView", "hookOrListener", "undefined", "_initialize", "ngDebugClient", "\u0275setProfiler", "forEach", "cb", "callback", "push", "destroy", "onIndexForest", "newNodes", "removedNodes", "node", "directive", "isComponent", "position", "getDirectivePosition", "id", "getDirectiveId", "_onCreate", "getDirectiveHostElement", "_onDestroy", "_directive", "_hookOrListener", "context", "_inChangeDetection", "runOutsideAngular", "Promise", "resolve", "then", "changeDetection$", "next", "_onChangeDetectionStart", "hasDirective", "_onChangeDetectionEnd", "hook", "element", "lifecycleHookName", "getLifeCycleName", "get", "_onLifecycleHookStart", "_onLifecycleHookEnd", "componentOrDirective", "listener", "_onOutputStart", "name", "_onOutputEnd", "hookTViewProperties", "componentMetadata", "instance", "constructor", "\u0275cmp", "PatchingProfiler", "Profiler", "_patched", "Map", "_undoLifecyclePatch", "_tracker", "IdentityTracker", "getInstance", "destroy", "cmp", "template", "meta", "tView", "forEach", "p", "onIndexForest", "newNodes", "removedNodes", "node", "_observeLifecycle", "directive", "isComponent", "_observeComponent", "_fireCreationCallback", "delete", "_fireDestroyCallback", "component", "position", "getDirectivePosition", "id", "getDirectiveId", "_onCreate", "getDirectiveHostElement", "_onDestroy", "declarations", "original", "self", "patched", "_", "_inChangeDetection", "runOutsideAngular", "Promise", "resolve", "then", "changeDetection$", "next", "_onChangeDetectionStart", "apply", "arguments", "hasDirective", "undefined", "_onChangeDetectionEnd", "set", "ctx", "getLViewFromDirectiveOrElementInstance", "tview", "hook", "current", "Array", "isArray", "el", "idx", "METADATA_PROPERTY_NAME", "lifecycleHookName", "getLifeCycleName", "element", "_onLifecycleHookStart", "result", "_onLifecycleHookEnd", "push", "selectProfilerStrategy", "ngDebugClient", "\u0275setProfiler", "NgProfiler", "PatchingProfiler", "DirectiveForestHooks", "_tracker", "IdentityTracker", "getInstance", "_forest", "_indexedForest", "profiler", "selectProfilerStrategy", "getDirectivePosition", "dir", "result", "undefined", "console", "warn", "getDirectiveId", "getIndexedDirectiveForest", "getDirectiveForest", "initialize", "indexForest", "newNodes", "removedNodes", "indexedForest", "directiveForest", "index", "onIndexForest", "markName", "s", "method", "supportsPerformance", "globalThis", "performance", "getEntriesByName", "recordMark", "mark", "endMark", "nodeName", "name", "start", "end", "length", "measure", "clearMarks", "clearMeasures", "timingAPIFlag", "enableTimingAPI", "disableTimingAPI", "timingAPIEnabled", "directiveForestHooks", "initializeOrGetDirectiveForestHooks", "depsForTestOnly", "DirectiveForestHooks", "profiler", "subscribe", "onChangeDetectionStart", "component", "getDirectiveName", "onChangeDetectionEnd", "onLifecycleHookStart", "lifecyle", "onLifecycleHookEnd", "onOutputStart", "output", "onOutputEnd", "initialize", "ComponentInspector", "_selectedComponent", "_onComponentEnter", "_onComponentSelect", "_onComponentLeave", "constructor", "componentOptions", "onComponentEnter", "onComponentLeave", "onComponentSelect", "bindMethods", "startInspecting", "window", "addEventListener", "elementMouseOver", "elementClick", "cancelEvent", "stopInspecting", "removeEventListener", "e", "stopImmediatePropagation", "preventDefault", "component", "host", "initializeOrGetDirectiveForestHooks", "getDirectiveId", "el", "target", "findComponentAndHost", "unHighlight", "highlightSelectedElement", "bind", "highlightByPosition", "position", "forest", "getDirectiveForest", "elementToHighlight", "findNodeInForest", "highlightHydrationNodes", "forestWithoutRoots", "flatMap", "rootNode", "children", "errorNodes", "findErrorNodesForHydrationOverlay", "otherNodes", "findNodesForHydrationOverlay", "filter", "status", "node", "highlightHydrationElement", "removeHydrationHighlights", "hydration", "nativeElement", "length", "inProgress", "inChangeDetection", "eventMap", "frameDuration", "hooks", "start", "onFrame", "Error", "Map", "getHooks", "initializeOrGetDirectiveForestHooks", "profiler", "subscribe", "stop", "directiveForestHooks", "result", "flushBuffer", "unsubscribe", "startEvent", "map", "directive", "label", "key", "getDirectiveName", "performance", "now", "getEventStart", "timeStartMap", "onCreate", "node", "_", "isComponent", "position", "set", "isElement", "isCustomElement", "name", "lifecycle", "outputs", "onChangeDetectionStart", "component", "source", "getChangeDetectionSource", "runOutsideAngular", "Promise", "resolve", "then", "has", "changeDetection", "onChangeDetectionEnd", "profile", "get", "current", "undefined", "startTimestamp", "duration", "console", "warn", "onDestroy", "__", "onLifecycleHookStart", "hookName", "onLifecycleHookEnd", "___", "dir", "onOutputStart", "componentOrDirective", "outputName", "onOutputEnd", "entry", "insertOrMerge", "lastFrame", "exists", "directives", "forEach", "d", "Object", "keys", "push", "insertElementProfile", "frames", "original", "i", "length", "pos", "children", "lastIdx", "prepareInitialFrame", "frame", "directiveForest", "getIndexedDirectiveForest", "traverse", "getDirectivePosition", "instance", "n", "items", "Array", "from", "positions", "positionDirective", "sort", "lexicographicOrder", "zone", "window", "Zone", "currentTask", "a", "b", "CONSOLE_REFERENCE_PREFIX", "CAPACITY", "nodesForConsoleReference", "setConsoleReference", "referenceNode", "node", "_setConsoleReference", "prepareCurrentReferencesForInsertion", "unshift", "assignConsoleReferencesFrom", "foundIndex", "findIndex", "nodeToLookFor", "arrayEquals", "position", "splice", "length", "pop", "referenceNodes", "forEach", "index", "setDirectiveKey", "getConsoleReferenceWithIndexOf", "key", "Object", "defineProperty", "window", "get", "component", "instance", "nativeElement", "configurable", "consoleReferenceIndex", "subscribeToClientEvents", "messageBus", "depsForTestOnly", "on", "shutdownCallback", "getLatestComponentExplorerViewCallback", "checkForAngularCallback", "startProfilingCallback", "stopProfilingCallback", "selectedComponentCallback", "getNestedPropertiesCallback", "getRoutesCallback", "updateState", "enableTimingAPI", "disableTimingAPI", "getInjectorProvidersCallback", "logProvider", "message", "level", "console", "appIsAngularInDevMode", "appIsSupportedAngularVersion", "appIsAngularIvy", "setupInspector", "runOutsideAngular", "initializeOrGetDirectiveForestHooks", "profiler", "changeDetection$", "pipe", "debounceTime", "subscribe", "emit", "destroy", "query", "indexForest", "forest", "prepareForestForSerialization", "getIndexedDirectiveForest", "ngDebugDependencyInjectionApiIsSupported", "injectorId", "idToInjector", "keys", "injectorsSeen", "has", "injector", "get", "isElementInjector", "element", "getElementInjectorElement", "nodeInjectorToResolutionPath", "delete", "clear", "state", "getLatestComponentState", "getDirectiveForest", "directiveProperties", "properties", "checkForAngular", "getRoutes", "startProfiling", "frame", "stopProfiling", "position", "node", "queryDirectiveForest", "setConsoleReference", "propPath", "emitEmpty", "props", "current", "directive", "undefined", "component", "directives", "data", "instance", "prop", "error", "serializeDirectiveState", "ngVersion", "getAngularVersion", "appIsIvy", "version", "toString", "devMode", "ivy", "hydration", "isHydrationEnabled", "inspector", "ComponentInspector", "onComponentEnter", "id", "onComponentLeave", "onComponentSelect", "startInspecting", "stopInspecting", "highlightByPosition", "unHighlight", "highlightHydrationNodes", "removeHydrationHighlights", "roots", "includeResolutionPath", "serializedNodes", "serializedNode", "name", "isElement", "getDirectiveId", "map", "d", "children", "push", "resolutionPath", "getNodeDIResolutionPath", "nodeInjector", "getInjectorFromElementNode", "nativeElement", "resolutionPaths", "getInjectorResolutionPath", "set", "serializeResolutionPath", "serializedPath", "add", "providerRecords", "getInjectorProviders", "allProviderRecords", "tokenToRecords", "Map", "index", "providerRecord", "entries", "record", "serializeProviderRecord", "type", "records", "token", "serializedProviderRecords", "multiRecords", "filter", "multi", "nonMultiRecords", "firstMultiRecord", "isViewProvider", "serializedInjector", "serializedProvider", "group", "log", "provider", "optional", "Array", "isArray", "providers", "groupEnd", "initializeMessageBus", "messageBus", "subscribeToClientEvents", "initializeExtendedWindowOperations", "extendWindowOperations", "globalThis", "inspectedApplication", "chromeWindowExtensions", "target", "classImpl", "key", "Object", "keys", "console", "warn", "assign", "findConstructorByPosition", "serializedId", "directiveIndex", "node", "findNodeFromSerializedPosition", "error", "undefined", "directives", "instance", "constructor", "component", "findDomElementByPosition", "nativeElement", "findPropertyByPosition", "args", "directivePosition", "objectPath", "JSON", "parse", "queryDirectiveForest", "element", "buildDirectiveForest", "directive", "traverseDirective", "dir", "SamePageMessageBus", "MessageBus", "_source", "_destination", "_listeners", "constructor", "onAny", "cb", "listener", "e", "source", "window", "data", "topic", "args", "addEventListener", "push", "splice", "indexOf", "removeEventListener", "on", "apply", "once", "emit", "postMessage", "__ignore_ng_zone__", "destroy", "forEach", "l", "messageBus", "SamePageMessageBus", "location", "href", "initialized", "on", "initializeMessageBus", "initializeExtendedWindowOperations", "inspectorRunning", "document", "addEventListener", "unHighlight", "emit"]
}
